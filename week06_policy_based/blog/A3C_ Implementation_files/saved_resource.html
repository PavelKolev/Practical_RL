<!DOCTYPE html>
<!-- saved from url=(0424)https://disqus.com/embed/comments/?base=default&f=jaromiru-com&t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&s_o=default#version=25e948b7497d4d33bb9de5f27349c037 -->
<html lang="en" dir="ltr" class="js no-touch localstorage sessionstorage contenteditable use-opacity-transitions"><!--<![endif]--><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Disqus Comments</title>

    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <style>
        .alert--warning {
            border-radius: 3px;
            padding: 10px 15px;
            margin-bottom: 10px;
            background-color: #FFE070;
            color: #A47703;
        }

        .alert--warning a,
        .alert--warning a:hover,
        .alert--warning strong {
            color: #A47703;
            font-weight: bold;
        }

        .alert--error p,
        .alert--warning p {
            margin-top: 5px;
            margin-bottom: 5px;
        }
        
        </style>
    
    <style>
        
        html {
            overflow: hidden;
        }
        

        #error {
            display: none;
        }

        .clearfix:after {
            content: "";
            display: block;
            height: 0;
            clear: both;
            visibility: hidden;
        }

        
    </style>

<script crossorigin="anonymous" id="bootstrap-script" data-app="lounge" src="./lounge.load.25e948b7497d4d33bb9de5f27349c037.js.download"></script><meta http-equiv="Content-Security-Policy" content="script-src https:;"><link rel="stylesheet" href="./lounge.6525595c7a9874fa10bd041275e40f17.css"><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="lounge/main" src="./lounge.bundle.277f9ff2e410eacf604c2762b3003e57.js.download"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="remote/config" src="./config.js.download"></script><style id="css_1596800399555"></style><!--<base target="_parent">--><base href="." target="_parent"><link rel="stylesheet" href="./recommendations.45f13554f8a372340589f7312bb44621.css"><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="recommendations/main" src="./recommendations.bundle.baf6e3fc6bd5dc65efc3be8dc20f0f7d.js.download"></script></head>
<body>
    

    
    <div id="error" class="alert--error">
        <p>We were unable to load Disqus. If you are a moderator please see our <a href="https://docs.disqus.com/help/83/"> troubleshooting guide</a>. </p>
    </div>

    
    <script type="text/json" id="disqus-forumData">{"session":{"canModerate":false,"audienceSyncVerified":false,"mustVerify":false,"canReply":true,"mustVerifyEmail":false},"forum":{"aetBannerConfirmation":null,"founder":"224234520","twitterName":null,"commentsLinkOne":"1 Comment","guidelines":null,"favicon":{"permalink":"https://disqus.com/api/forums/favicons/jaromiru-com.jpg","cache":"//a.disquscdn.com/1595026414/images/favicon-default.png"},"commentsLinkZero":"0 Comments","disableDisqusBranding":false,"id":"jaromiru-com","createdAt":"2019-01-30T21:26:35.393877","category":"Tech","aetBannerEnabled":false,"aetBannerTitle":null,"raw_guidelines":null,"colorScheme":"auto","votingType":null,"installCompleted":true,"moderatorBadgeText":"","commentPolicyText":null,"aetEnabled":false,"channel":null,"sort":4,"description":null,"newPolicy":true,"raw_description":null,"language":"en","adsReviewStatus":0,"pk":"5710794","daysAlive":0,"forumCategory":{"date_added":"2016-01-28T01:54:31","id":8,"name":"Tech"},"permissions":{},"commentPolicyLink":null,"aetBannerDescription":null,"name":"\u30e4\u30ed\u30df\u30eb","commentsLinkMultiple":"{num} Comments","settings":{"threadRatingsEnabled":false,"adsDRNativeEnabled":false,"behindClickEnabled":false,"disable3rdPartyTrackers":false,"adsVideoEnabled":false,"adsProductVideoEnabled":false,"adsPositionTopEnabled":false,"ssoRequired":false,"unapproveLinks":false,"adsPositionRecommendationsEnabled":false,"linkAffiliationEnabled":true,"adsProductLinksThumbnailsEnabled":false,"hasCustomAvatar":false,"organicDiscoveryEnabled":true,"adsProductDisplayEnabled":false,"adsProductLinksEnabled":false,"threadReactionsEnabled":false,"adsEnabled":false,"disableSocialShare":false,"allowAnonPost":false,"adsProductStoriesEnabled":false,"adultContent":false,"allowAnonVotes":false,"gifPickerEnabled":true,"mustVerify":true,"mustVerifyEmail":true,"audienceSyncEnabled":false,"mediaembedEnabled":true,"adsPositionBottomEnabled":false,"discoveryLocked":false,"validateAllPosts":false,"adsSettingsLocked":false,"isVIP":false,"adsPositionInthreadEnabled":false},"organizationId":4271370,"typeface":"auto","url":"http://jaromiru.com","daysThreadAlive":0,"avatar":{"small":{"permalink":"https://disqus.com/api/forums/avatars/jaromiru-com.jpg?size=32","cache":"//a.disquscdn.com/1595026414/images/noavatar32.png"},"large":{"permalink":"https://disqus.com/api/forums/avatars/jaromiru-com.jpg?size=92","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"}},"signedUrl":"http://disq.us/?url=http%3A%2F%2Fjaromiru.com&key=D-mxHzbg_R8x0tIMw5950A"}}</script>

    <script type="text/json" id="disqus-threadData">{"cursor":{"hasPrev":false,"prev":null,"total":51,"hasNext":true,"next":"1:0:0"},"code":0,"response":{"lastModified":1595362675,"posts":[{"editableUntil":"2019-10-31T23:13:28","dislikes":0,"thread":"7199949082","numReports":0,"likes":0,"message":"\u003cp>How would you add a LSTM layer to this model? How the optimize function would be changed in this case? I assume lstm layer would force state dimensions to be changed as you cannot pass (None, state_size) as None is not acceptable. In this case, you will have 3D array rather than 2D.\u003c/p>","id":"4664794705","createdAt":"2019-10-24T23:13:28","author":{"username":"zhouxie","about":"","name":"xlrhl","disable3rdPartyTrackers":false,"isPowerContributor":false,"joinedAt":"2019-10-24T23:04:45","profileUrl":"https://disqus.com/by/zhouxie/","url":"","location":"","isPrivate":false,"signedUrl":"","isPrimary":true,"isAnonymous":false,"id":"339739861","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/zhouxie.jpg","cache":"//a.disquscdn.com/1595026414/images/noavatar32.png"},"isCustom":false,"permalink":"https://disqus.com/api/users/avatars/zhouxie.jpg","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png","large":{"permalink":"https://disqus.com/api/users/avatars/zhouxie.jpg","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"}}},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":null,"isApproved":true,"isFlagged":false,"raw_message":"How would you add a LSTM layer to this model? How the optimize function would be changed in this case? I assume lstm layer would force state dimensions to be changed as you cannot pass (None, state_size) as None is not acceptable. In this case, you will have 3D array rather than 2D.","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jaromiru-com","depth":0,"points":0,"moderationLabels":[],"isEdited":false,"sb":false},{"editableUntil":"2019-08-19T04:22:07","dislikes":0,"thread":"7199949082","numReports":0,"likes":0,"message":"\u003cp>Hi Jaromiru, thanks for this amazing post, I found the code clean and easy to understand (and the theory) :)\u003c/p>\u003cp>I'm currently puzzled that I accidentally changed:\u003cbr>v = self.predict_v(s_)\u003cbr>to\u003cbr>v = self.predict_v(s)\u003cbr>-- but it still seem to work -- why is so?\u003c/p>","id":"4575092961","createdAt":"2019-08-12T04:22:07","author":{"username":"zhiqiu","about":"","name":"Zhi Qiu","disable3rdPartyTrackers":false,"isPowerContributor":false,"joinedAt":"2019-08-12T04:21:45","profileUrl":"https://disqus.com/by/zhiqiu/","url":"","location":"","isPrivate":false,"signedUrl":"","isPrimary":true,"isAnonymous":false,"id":"336244044","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/zhiqiu.jpg","cache":"https://c.disquscdn.com/uploads/users/33624/4044/avatar32.jpg?1565583730"},"isCustom":true,"permalink":"https://disqus.com/api/users/avatars/zhiqiu.jpg","cache":"https://c.disquscdn.com/uploads/users/33624/4044/avatar92.jpg?1565583730","large":{"permalink":"https://disqus.com/api/users/avatars/zhiqiu.jpg","cache":"https://c.disquscdn.com/uploads/users/33624/4044/avatar92.jpg?1565583730"}}},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":null,"isApproved":true,"isFlagged":false,"raw_message":"Hi Jaromiru, thanks for this amazing post, I found the code clean and easy to understand (and the theory) :)\n\nI'm currently puzzled that I accidentally changed:\nv = self.predict_v(s_)\nto\nv = self.predict_v(s)\n-- but it still seem to work -- why is so?","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jaromiru-com","depth":0,"points":0,"moderationLabels":[],"isEdited":false,"sb":false},{"editableUntil":"2019-09-08T15:25:31","dislikes":0,"thread":"7199949082","numReports":0,"likes":0,"message":"\u003cp>In this environment v_t (value at time t) and v_t+1 are nearly same, therefore v_t is a good approximation of v_t+1, in an environment where rewards is sparse or rewards are different this wouldn't hold and the BOT would learn little to nothing.\u003c/p>","id":"4599956975","createdAt":"2019-09-01T15:25:31","author":{"username":"danielkarsek","about":"","name":"Daniel Kar\u00e1sek","disable3rdPartyTrackers":true,"isPowerContributor":false,"joinedAt":"2019-09-01T15:25:13","profileUrl":"https://disqus.com/by/danielkarsek/","url":"","location":"","isPrivate":false,"signedUrl":"","isPrimary":true,"isAnonymous":false,"id":"337198743","avatar":{"small":{"permalink":"https://disqus.com/api/users/avatars/danielkarsek.jpg","cache":"https://c.disquscdn.com/uploads/users/33719/8743/avatar32.jpg?1567351533"},"isCustom":true,"permalink":"https://disqus.com/api/users/avatars/danielkarsek.jpg","cache":"https://c.disquscdn.com/uploads/users/33719/8743/avatar92.jpg?1567351533","large":{"permalink":"https://disqus.com/api/users/avatars/danielkarsek.jpg","cache":"https://c.disquscdn.com/uploads/users/33719/8743/avatar92.jpg?1567351533"}}},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":4575092961,"isApproved":true,"isFlagged":false,"raw_message":"In this environment v_t (value at time t) and v_t+1 are nearly same, therefore v_t is a good approximation of v_t+1, in an environment where rewards is sparse or rewards are different this wouldn't hold and the BOT would learn little to nothing.","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jaromiru-com","depth":1,"points":0,"moderationLabels":[],"isEdited":false,"sb":false},{"editableUntil":"2018-10-02T09:01:09","dislikes":0,"thread":"7199949082","numReports":0,"likes":0,"message":"\u003cp>First of all, thank you for such an amazing tutorial and code!\u003c/p>\u003cp>On a side note: how does one extract the achieved optimal policy? Say I want to extract an n-dimensional array showcasing the action to be selected at each state, so we can analyze it. How can one go about extracting it?\u003c/p>","id":"4315357629","createdAt":"2018-09-25T09:01:09","author":{"name":"pSilva","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar32.png","cache":"//a.disquscdn.com/1595026414/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":null,"isApproved":true,"isFlagged":false,"raw_message":"First of all, thank you for such an amazing tutorial and code!\n\nOn a side note: how does one extract the achieved optimal policy? Say I want to extract an n-dimensional array showcasing the action to be selected at each state, so we can analyze it. How can one go about extracting it?","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jaromiru-com","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"editableUntil":"2018-09-14T13:13:29","dislikes":0,"thread":"7199949082","numReports":0,"likes":0,"message":"\u003cp>Amazing tutorial. I've been researching this algorithm and this is one of the most clearly stated articles so far.\u003c/p>","id":"4315357625","createdAt":"2018-09-07T13:13:29","author":{"name":"Shivan Nawal","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar32.png","cache":"//a.disquscdn.com/1595026414/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":null,"isApproved":true,"isFlagged":false,"raw_message":"Amazing tutorial. I've been researching this algorithm and this is one of the most clearly stated articles so far.","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jaromiru-com","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"editableUntil":"2018-09-09T04:23:38","dislikes":0,"thread":"7199949082","numReports":0,"likes":0,"message":"\u003cp>Great article!  I have a question on how the optimizer minimizes the loss - I realize that this is more of a tensor-flow question, but it is a key part of the processes that I was hoping you could help me out with.\u003c/p>\u003cp>In your code:\u003c/p>\u003cp>loss_total = tf.reduce_mean(loss_policy + loss_value + entropy)\u003cbr>minimize = optimizer.minimize(loss_total)\u003c/p>\u003cp>Is the 'loss_total' a value stored in a variable that is then just back-propagated back up through the model via the optimizer.minimize function where the optimizer calculates the gradient of the loss wrt each layer's learnable parameters?\u003c/p>\u003cp>So for example if on one iteration 'loss_total' = 15.2, does the optimizer.minimize then back-propagate that value back up through the model for that iteration and then apply the updates?\u003c/p>\u003cp>The reason I ask is that I am working on a port of your solution onto a different AI platform with a different language, but my error rate keeps blowing up.\u003c/p>\u003cp>Thanks.\u003c/p>","id":"4315357628","createdAt":"2018-09-02T04:23:38","author":{"name":"wallygator","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar32.png","cache":"//a.disquscdn.com/1595026414/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":null,"isApproved":true,"isFlagged":false,"raw_message":"Great article!  I have a question on how the optimizer minimizes the loss - I realize that this is more of a tensor-flow question, but it is a key part of the processes that I was hoping you could help me out with. \n\nIn your code: \n\nloss_total = tf.reduce_mean(loss_policy + loss_value + entropy)\nminimize = optimizer.minimize(loss_total) \n\nIs the 'loss_total' a value stored in a variable that is then just back-propagated back up through the model via the optimizer.minimize function where the optimizer calculates the gradient of the loss wrt each layer's learnable parameters? \n\nSo for example if on one iteration 'loss_total' = 15.2, does the optimizer.minimize then back-propagate that value back up through the model for that iteration and then apply the updates?\n\nThe reason I ask is that I am working on a port of your solution onto a different AI platform with a different language, but my error rate keeps blowing up.\n\nThanks.","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jaromiru-com","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"editableUntil":"2018-09-27T20:36:27","dislikes":0,"thread":"7199949082","numReports":0,"likes":0,"message":"\u003cp>After digging into tensor flow even deeper, it turns out the loss is actually a tensor that tensorflow uses to calculate the initial gradient that is the backpropagated on up the model.  A great article that touches on this can be found at \u003ca href=\"http://disq.us/url?url=http%3A%2F%2Fkarpathy.github.io%2F2016%2F05%2F31%2Frl%2F%3AniRM9pRCAHQM6DVr0mzT09aYJIM&amp;cuid=5710794\" rel=\"nofollow noopener\" title=\"http://karpathy.github.io/2016/05/31/rl/\">http://karpathy.github.io/2...\u003c/a>.\u003c/p>","id":"4315357697","createdAt":"2018-09-20T20:36:27","author":{"name":"wallygator","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar32.png","cache":"//a.disquscdn.com/1595026414/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":4315357628,"isApproved":true,"isFlagged":false,"raw_message":"After digging into tensor flow even deeper, it turns out the loss is actually a tensor that tensorflow uses to calculate the initial gradient that is the backpropagated on up the model.  A great article that touches on this can be found at http://karpathy.github.io/2016/05/31/rl/.","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jaromiru-com","depth":1,"points":0,"moderationLabels":["anonymous","links"],"isEdited":false,"sb":false},{"editableUntil":"2018-09-12T03:52:58","dislikes":0,"thread":"7199949082","numReports":0,"likes":0,"message":"\u003cp>After a closer look at the tensorflow code, it looks to me like a portion of the loss_function 'VALUE' is applied to the gradients on line 475 of the \u003ca href=\"http://disq.us/url?url=http%3A%2F%2Foptimizer.py%3ABwd3rNZcG2Da3INjBDrhRs9zSOc&amp;cuid=5710794\" rel=\"nofollow noopener\" title=\"optimizer.py\">optimizer.py\u003c/a> in the Tensorflow code on GitHub at \u003ca href=\"https://disq.us/url?url=https%3A%2F%2Fgithub.com%2Ftensorflow%2Ftensorflow%2Fblob%2Fmaster%2Ftensorflow%2Fpython%2Ftraining%2Foptimizer.py%3A2ScAwF2IRPcvM_DEWUl14Yp0X54&amp;cuid=5710794\" rel=\"nofollow noopener\" title=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/training/optimizer.py\">https://github.com/tensorfl...\u003c/a>\u003c/p>\u003cp>See the call to loss() on line 460 which returns the value, which is then applied to the gradients on line 475 -- all within the compute_gradients() function called by the optmizer.minimize() function on line 397.\u003c/p>","id":"4315357698","createdAt":"2018-09-05T03:52:58","author":{"name":"wallygator","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar32.png","cache":"//a.disquscdn.com/1595026414/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":4315357628,"isApproved":true,"isFlagged":false,"raw_message":"After a closer look at the tensorflow code, it looks to me like a portion of the loss_function 'VALUE' is applied to the gradients on line 475 of the optimizer.py in the Tensorflow code on GitHub at https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/training/optimizer.py\n\nSee the call to loss() on line 460 which returns the value, which is then applied to the gradients on line 475 -- all within the compute_gradients() function called by the optmizer.minimize() function on line 397.","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jaromiru-com","depth":1,"points":0,"moderationLabels":["anonymous","links"],"isEdited":false,"sb":false},{"editableUntil":"2018-09-11T04:08:40","dislikes":0,"thread":"7199949082","numReports":0,"likes":0,"message":"\u003cp>By 'compound loss function' I am assuming that you mean:\u003cbr>loss_policy = - logp * tf.stop_gradient(advantage) \u003cbr>loss_value  = C_V * tf.square(advantage)\u003cbr>entropy = C_E * tf.reduce_sum(p * tf.log(p + 1e-10), axis=1, keep_dims=True)\u003cbr>loss_total = tf.reduce_mean(loss_policy + loss_value + entropy)\u003c/p>\u003cp>So if I am implementing my own optimizer, I will need to convert the above to its derivative, calculate it and then propagate the result on up into the model, right?\u003c/p>","id":"4315357691","createdAt":"2018-09-04T04:08:40","author":{"name":"wallygator","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar32.png","cache":"//a.disquscdn.com/1595026414/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":4315357628,"isApproved":true,"isFlagged":false,"raw_message":"By 'compound loss function' I am assuming that you mean:\nloss_policy = - logp * tf.stop_gradient(advantage) \nloss_value  = C_V * tf.square(advantage)\nentropy = C_E * tf.reduce_sum(p * tf.log(p + 1e-10), axis=1, keep_dims=True)\nloss_total = tf.reduce_mean(loss_policy + loss_value + entropy)\n\nSo if I am implementing my own optimizer, I will need to convert the above to its derivative, calculate it and then propagate the result on up into the model, right?","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jaromiru-com","depth":1,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"editableUntil":"2018-09-11T14:56:08","dislikes":0,"thread":"7199949082","numReports":0,"likes":0,"message":"\u003cp>Well, I meant the compound function of the loss and the neural network itself. If you are implementing your own optimizer, check some tutorial about backpropagation with numpy or check pytorch autograd for some hints.\u003c/p>","id":"4315357752","createdAt":"2018-09-04T14:56:08","author":{"name":"\u30e4\u30ed\u30df\u04e4","url":"http://testblog956.wordpress.com/","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar32.png","cache":"//a.disquscdn.com/1595026414/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"signedUrl":"http://disq.us/?url=http%3A%2F%2Ftestblog956.wordpress.com%2F&key=nxhg-tyA18ii-EsDfX6KSg","isAnonymous":true},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":4315357691,"isApproved":true,"isFlagged":false,"raw_message":"Well, I meant the compound function of the loss and the neural network itself. If you are implementing your own optimizer, check some tutorial about backpropagation with numpy or check pytorch autograd for some hints.","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jaromiru-com","depth":2,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"editableUntil":"2018-09-09T09:54:05","dislikes":0,"thread":"7199949082","numReports":0,"likes":0,"message":"\u003cp>Yes, that's basically what the optimizer does. Make sure you don't confuse the value and the derivative of the loss function. In your example, the optimizer computes the derivative of the compound loss function at 15.2 point wrt the network parameters via backpropagation, and update them accordingly.\u003c/p>","id":"4315357696","createdAt":"2018-09-02T09:54:05","author":{"name":"\u30e4\u30ed\u30df\u04e4","url":"http://testblog956.wordpress.com/","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar32.png","cache":"//a.disquscdn.com/1595026414/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"signedUrl":"http://disq.us/?url=http%3A%2F%2Ftestblog956.wordpress.com%2F&key=nxhg-tyA18ii-EsDfX6KSg","isAnonymous":true},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":4315357628,"isApproved":true,"isFlagged":false,"raw_message":"Yes, that's basically what the optimizer does. Make sure you don't confuse the value and the derivative of the loss function. In your example, the optimizer computes the derivative of the compound loss function at 15.2 point wrt the network parameters via backpropagation, and update them accordingly.","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jaromiru-com","depth":1,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"editableUntil":"2018-08-30T09:04:42","dislikes":0,"thread":"7199949082","numReports":0,"likes":0,"message":"\u003cp>hi thanks for this great post\u003cbr>helped a lot\u003c/p>\u003cp>when I ran the exact code on GitHub I got this error\u003c/p>\u003cp>\"RuntimeError: Graph is finalized and cannot be modified\"\u003c/p>\u003cp>could anyone help me\u003c/p>","id":"4315357623","createdAt":"2018-08-23T09:04:42","author":{"name":"sahand","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar32.png","cache":"//a.disquscdn.com/1595026414/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":null,"isApproved":true,"isFlagged":false,"raw_message":"hi thanks for this great post\nhelped a lot\n\nwhen I ran the exact code on GitHub I got this error\n\n\"RuntimeError: Graph is finalized and cannot be modified\"\n\ncould anyone help me","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jaromiru-com","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"editableUntil":"2018-08-21T05:47:36","dislikes":0,"thread":"7199949082","numReports":0,"likes":0,"message":"\u003cp>First of all, I really appreciate your efforts for creating such an awesome and easily understandable series of blog posts. You made it possible for a guy like me to understand these algorithms and build a framework for the same! Here's the link for the same \u003ca href=\"https://disq.us/url?url=https%3A%2F%2Fgithub.com%2Fkirarpit%2Fconnect4%3AFFIIYHXPFnz4Hoi84C-suJYPCSE&amp;cuid=5710794\" rel=\"nofollow noopener\" title=\"https://github.com/kirarpit/connect4\">https://github.com/kirarpit...\u003c/a>. Thanks a lot once again!\u003c/p>","id":"4315357616","createdAt":"2018-08-14T05:47:36","author":{"name":"Arpit Garg","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar32.png","cache":"//a.disquscdn.com/1595026414/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":null,"isApproved":true,"isFlagged":false,"raw_message":"First of all, I really appreciate your efforts for creating such an awesome and easily understandable series of blog posts. You made it possible for a guy like me to understand these algorithms and build a framework for the same! Here's the link for the same https://github.com/kirarpit/connect4. Thanks a lot once again!","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jaromiru-com","depth":0,"points":0,"moderationLabels":["anonymous","links"],"isEdited":false,"sb":false},{"editableUntil":"2018-05-03T14:08:55","dislikes":0,"thread":"7199949082","numReports":0,"likes":0,"message":"\u003cp>hi Jaromir, thanks a lot for our valuable work. Why is the code different in the post from the Github? For example, in get_sample(memory, n). Which is correct? Also, how do you compute R: self.R = ( self.R + r * GAMMA_N ) / GAMMA and self.R= self.R -self.memory[0][2]? Not able to understand. Thanks!\u003c/p>","id":"4315357621","createdAt":"2018-04-26T14:08:55","author":{"name":"Belen","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar32.png","cache":"//a.disquscdn.com/1595026414/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":null,"isApproved":true,"isFlagged":false,"raw_message":"hi Jaromir, thanks a lot for our valuable work. Why is the code different in the post from the Github? For example, in get_sample(memory, n). Which is correct? Also, how do you compute R: self.R = ( self.R + r * GAMMA_N ) / GAMMA and self.R= self.R -self.memory[0][2]? Not able to understand. Thanks!","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jaromiru-com","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"editableUntil":"2018-01-12T10:09:22","dislikes":0,"thread":"7199949082","numReports":0,"likes":0,"message":"\u003cp>First of all, thanks for your post!\u003cbr>Could you please explain why these lines are needed:\u003c/p>\u003cp>     self.default_graph = tf.get_default_graph()\u003cbr>     self.default_graph.finalize()    # avoid modifications\u003cbr>[...]\u003cbr>    def predict(self, s):\u003cbr>    with self.default_graph.as_default():\u003cbr>        p, v = self.model.predict(s)\u003c/p>\u003cp>I'm not sure of their effect, since by  removing self.default_graph everything seems to work fine.\u003c/p>","id":"4315357627","createdAt":"2018-01-05T10:09:22","author":{"name":"Claudio","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar32.png","cache":"//a.disquscdn.com/1595026414/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":null,"isApproved":true,"isFlagged":false,"raw_message":"First of all, thanks for your post!\nCould you please explain why these lines are needed:\n\n     self.default_graph = tf.get_default_graph()\n     self.default_graph.finalize()    # avoid modifications\n[...]\n    def predict(self, s):\n    with self.default_graph.as_default():\n        p, v = self.model.predict(s)\n\nI'm not sure of their effect, since by  removing self.default_graph everything seems to work fine.","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jaromiru-com","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"editableUntil":"2018-01-01T03:47:05","dislikes":0,"thread":"7199949082","numReports":0,"likes":0,"message":"\u003cp>Thanks for your excellent explanation on the A3C algorithm! I am currently working on a model that tries to maximize return on a certain stock market consist of approximately a hundred companies. My question is, when implementing an A3C model to maximize return, it seems quite strange an idea that the state value function V(s) gives the \"value\" of each state where a state actually means the market data for a certain trading day (we expect the neural network to analyze and give some certain trading strategies based on this observation). In other words, whatever action the agent may take, the trajectory remains the same for all agents in all training epochs. In this case does the \u003cbr>A3C training process still work?\u003cbr>Another way is to add the positions into the state input, i.e. the state value given by value network is based not only on market data, but also on how much money the agent put into each stock. \u003cbr>This question may be a bit irrelevant to the A3C algorithm, but I'm really confused when it comes to the calculation of the gradients (especially in the policy network). If you don't really get my confusions, let's put it this way:\u003cbr>In an environment where the action doesn't affect the next state at all (i.e. the state sequence is fixed), can we still maximize the reward with policy gradient algorithms? If not, are there any alternative solutions?\u003cbr>Thanks again for your article!\u003c/p>","id":"4315357630","createdAt":"2017-12-25T03:47:05","author":{"name":"Garlica Yang","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar32.png","cache":"//a.disquscdn.com/1595026414/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":null,"isApproved":true,"isFlagged":false,"raw_message":"Thanks for your excellent explanation on the A3C algorithm! I am currently working on a model that tries to maximize return on a certain stock market consist of approximately a hundred companies. My question is, when implementing an A3C model to maximize return, it seems quite strange an idea that the state value function V(s) gives the \"value\" of each state where a state actually means the market data for a certain trading day (we expect the neural network to analyze and give some certain trading strategies based on this observation). In other words, whatever action the agent may take, the trajectory remains the same for all agents in all training epochs. In this case does the \nA3C training process still work?\nAnother way is to add the positions into the state input, i.e. the state value given by value network is based not only on market data, but also on how much money the agent put into each stock. \nThis question may be a bit irrelevant to the A3C algorithm, but I'm really confused when it comes to the calculation of the gradients (especially in the policy network). If you don't really get my confusions, let's put it this way:\nIn an environment where the action doesn't affect the next state at all (i.e. the state sequence is fixed), can we still maximize the reward with policy gradient algorithms? If not, are there any alternative solutions?\nThanks again for your article!","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jaromiru-com","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"editableUntil":"2017-11-22T17:15:17","dislikes":0,"thread":"7199949082","numReports":0,"likes":0,"message":"\u003cp>Hi,\u003c/p>\u003cp>First, thanks much for sharing this post.\u003c/p>\u003cp>Second, I have a question, I am having hard time understanding how \"R\" IS CALCULATED:\u003c/p>\u003cp>self.R = ( self.R + r * GAMMA_N ) / GAMMA\u003c/p>","id":"4315357635","createdAt":"2017-11-15T17:15:17","author":{"name":"Mehdi","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar32.png","cache":"//a.disquscdn.com/1595026414/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":null,"isApproved":true,"isFlagged":false,"raw_message":"Hi,\n\nFirst, thanks much for sharing this post.\n\nSecond, I have a question, I am having hard time understanding how \"R\" IS CALCULATED:\n\nself.R = ( self.R + r * GAMMA_N ) / GAMMA","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jaromiru-com","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"editableUntil":"2017-11-22T19:10:41","dislikes":0,"thread":"7199949082","numReports":0,"likes":0,"message":"\u003cp>also, as far as I know, and as you explained above in \"n step return\", we use \"n\" immediate reward and then after that \"n\" steps we use \"v(s)\" . I don't see the \"v(s)\" in your implementation. I really appreciate if you can explain\u003c/p>","id":"4315357700","createdAt":"2017-11-15T19:10:41","author":{"name":"Mehdi","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar32.png","cache":"//a.disquscdn.com/1595026414/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":4315357635,"isApproved":true,"isFlagged":false,"raw_message":"also, as far as I know, and as you explained above in \"n step return\", we use \"n\" immediate reward and then after that \"n\" steps we use \"v(s)\" . I don't see the \"v(s)\" in your implementation. I really appreciate if you can explain","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jaromiru-com","depth":1,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"editableUntil":"2017-11-05T07:34:45","dislikes":0,"thread":"7199949082","numReports":0,"likes":0,"message":"\u003cp>Sorry, I can't understand why we need to use stop_gradient(advantage) when calculating the gradient of loss_(policy), can you explain to me a little, really thanks for you!\u003c/p>","id":"4315357634","createdAt":"2017-10-29T06:34:45","author":{"name":"Yuhang Cao","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar32.png","cache":"//a.disquscdn.com/1595026414/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":null,"isApproved":true,"isFlagged":false,"raw_message":"Sorry, I can't understand why we need to use stop_gradient(advantage) when calculating the gradient of loss_(policy), can you explain to me a little, really thanks for you!","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jaromiru-com","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"editableUntil":"2017-11-05T11:02:03","dislikes":0,"thread":"7199949082","numReports":0,"likes":0,"message":"\u003cp>Hi, the formula for our function J, that we are trying to maximize is:\u003cbr>d J(pi) = E[ A(s, a) * d log pi(a|s) ]\u003c/p>\u003cp>So we can use tensorflow to compute the correct value by specifying \u003cbr>J(pi) = E[ a * log pi(a|s) ], where a = A(s,a) is a !constant! and letting tensorflow differentiate this value. So we need to use stop_gradient( A(s, a) ).\u003c/p>","id":"4315357703","createdAt":"2017-10-29T10:02:03","author":{"name":"\u30e4\u30ed\u30df\u04e4","url":"http://testblog956.wordpress.com/","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar32.png","cache":"//a.disquscdn.com/1595026414/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"signedUrl":"http://disq.us/?url=http%3A%2F%2Ftestblog956.wordpress.com%2F&key=nxhg-tyA18ii-EsDfX6KSg","isAnonymous":true},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":4315357634,"isApproved":true,"isFlagged":false,"raw_message":"Hi, the formula for our function J, that we are trying to maximize is:\nd J(pi) = E[ A(s, a) * d log pi(a|s) ]\n\nSo we can use tensorflow to compute the correct value by specifying \nJ(pi) = E[ a * log pi(a|s) ], where a = A(s,a) is a !constant! and letting tensorflow differentiate this value. So we need to use stop_gradient( A(s, a) ).","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jaromiru-com","depth":1,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"editableUntil":"2017-08-05T18:36:03","dislikes":0,"thread":"7199949082","numReports":0,"likes":0,"message":"\u003cp>I've tried with the hyper parameters as-is, and tweaking them; but, the system doesn't ever seem to do better than a total reward of about 45.\u003c/p>","id":"4315357601","createdAt":"2017-07-29T18:36:03","author":{"name":"ChaseAucoin (@ChaseAucoin)","url":"http://twitter.com/ChaseAucoin","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar32.png","cache":"//a.disquscdn.com/1595026414/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"signedUrl":"http://disq.us/?url=http%3A%2F%2Ftwitter.com%2FChaseAucoin&key=dmRftx3f1iaIxWXCKLNXOg","isAnonymous":true},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":null,"isApproved":true,"isFlagged":false,"raw_message":"I've tried with the hyper parameters as-is, and tweaking them; but, the system doesn't ever seem to do better than a total reward of about 45.","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jaromiru-com","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"editableUntil":"2017-08-08T09:11:40","dislikes":0,"thread":"7199949082","numReports":0,"likes":0,"message":"\u003cp>Same here. Does it have to do with the fact that I'm using CPU?\u003c/p>","id":"4315357672","createdAt":"2017-08-01T09:11:40","author":{"name":"Kenzo","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar32.png","cache":"//a.disquscdn.com/1595026414/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":4315357601,"isApproved":true,"isFlagged":false,"raw_message":"Same here. Does it have to do with the fact that I'm using CPU?","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jaromiru-com","depth":1,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"editableUntil":"2017-07-22T21:48:29","dislikes":0,"thread":"7199949082","numReports":0,"likes":0,"message":"\u003cp>Hello again Jarom\u00edr! I have another question if you don't mind. Checking other implementations of A3C (e.g. OpenAI Universe Starter Agent: \u003ca href=\"https://disq.us/url?url=https%3A%2F%2Fgithub.com%2Fopenai%2Funiverse-starter-agent%3AYW3XUVAob0dUytJTtdfLoQn70MY&amp;cuid=5710794\" rel=\"nofollow noopener\" title=\"https://github.com/openai/universe-starter-agent\">https://github.com/openai/u...\u003c/a> or ), I've noted that the only one that uses tf.stop_gradient() for the advantages in the policy loss it's yours. I agree with your explanation on why it's neccesary to use it, do you know why they don't use it? I made my own implementation for the continuous action space and tested it with and without tf.stop_gradient() and in both cases the policy converges\u003c/p>","id":"4315357593","createdAt":"2017-07-15T21:48:29","author":{"name":"Santiago","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar32.png","cache":"//a.disquscdn.com/1595026414/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":null,"isApproved":true,"isFlagged":false,"raw_message":"Hello again Jarom&#237;r! I have another question if you don't mind. Checking other implementations of A3C (e.g. OpenAI Universe Starter Agent: https://github.com/openai/universe-starter-agent or ), I've noted that the only one that uses tf.stop_gradient() for the advantages in the policy loss it's yours. I agree with your explanation on why it's neccesary to use it, do you know why they don't use it? I made my own implementation for the continuous action space and tested it with and without tf.stop_gradient() and in both cases the policy converges","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jaromiru-com","depth":0,"points":0,"moderationLabels":["anonymous","links"],"isEdited":false,"sb":false},{"editableUntil":"2017-07-25T15:47:22","dislikes":0,"thread":"7199949082","numReports":0,"likes":0,"message":"\u003cp>Hi, without the tf.stop_gradient(), you would propagate the gradient into the value function, which is incorrect. It might be that the leak is small and don't influence the value function much, hence it works for you.\u003c/p>\u003cp>I just checked OpenAI Universe Starter Agent (see \u003ca href=\"https://disq.us/url?url=https%3A%2F%2Fgithub.com%2Fopenai%2Funiverse-starter-agent%2Fblob%2Fmaster%2Fa3c.py%23L194%29%3A%3ATWt8P9OjxzcP_NKZlTGMlRD1u3w&amp;cuid=5710794\" rel=\"nofollow noopener\" title=\"https://github.com/openai/universe-starter-agent/blob/master/a3c.py#L194):\">https://github.com/openai/u...\u003c/a>\u003c/p>\u003cp>            \u003ca href=\"http://disq.us/url?url=http%3A%2F%2Fself.ac%3Ai9QcLFvjcd52hf_pFUaS4a-xlbk&amp;cuid=5710794\" rel=\"nofollow noopener\" title=\"self.ac\">self.ac\u003c/a> = tf.placeholder(tf.float32, [None, env.action_space.n], name=\"ac\")\u003cbr>            self.adv = tf.placeholder(tf.float32, [None], name=\"adv\")\u003c/p>\u003cp>            # . . .\u003c/p>\u003cp>            # the \"policy gradients\" loss:  its derivative is precisely the policy gradient\u003cbr>            # notice that \u003ca href=\"http://disq.us/url?url=http%3A%2F%2Fself.ac%3Ai9QcLFvjcd52hf_pFUaS4a-xlbk&amp;cuid=5710794\" rel=\"nofollow noopener\" title=\"self.ac\">self.ac\u003c/a> is a placeholder that is provided externally.\u003cbr>            # adv will contain the advantages, as calculated in process_rollout\u003cbr>            pi_loss = - tf.reduce_sum(tf.reduce_sum(log_prob_tf * \u003ca href=\"http://disq.us/url?url=http%3A%2F%2Fself.ac%3Ai9QcLFvjcd52hf_pFUaS4a-xlbk&amp;cuid=5710794\" rel=\"nofollow noopener\" title=\"self.ac\">self.ac\u003c/a>, [1]) * self.adv)\u003c/p>\u003cp>The self.adv is a placeholder, therefore a constant. The gradient can't leak into a constant, therefore you don't have to explicitly block it through tf.stop_gradient().\u003c/p>\u003cp>On the other hand, this implementation uses:\u003cbr>p, v = model(s_t)\u003cbr># . . . \u003cbr>advantage = r_t - v\u003cbr>loss_policy = - logp * tf.stop_gradient(advantage)\u003c/p>\u003cp>The v is a function of the network parameters and therefore the gradient would propagate.\u003c/p>","id":"4315357686","createdAt":"2017-07-18T15:47:22","author":{"name":"\u30e4\u30ed\u30df\u04e4","url":"http://testblog956.wordpress.com/","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar32.png","cache":"//a.disquscdn.com/1595026414/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"signedUrl":"http://disq.us/?url=http%3A%2F%2Ftestblog956.wordpress.com%2F&key=nxhg-tyA18ii-EsDfX6KSg","isAnonymous":true},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":4315357593,"isApproved":true,"isFlagged":false,"raw_message":"Hi, without the tf.stop_gradient(), you would propagate the gradient into the value function, which is incorrect. It might be that the leak is small and don't influence the value function much, hence it works for you.\n\nI just checked OpenAI Universe Starter Agent (see https://github.com/openai/universe-starter-agent/blob/master/a3c.py#L194):\n\n            self.ac = tf.placeholder(tf.float32, [None, env.action_space.n], name=\"ac\")\n            self.adv = tf.placeholder(tf.float32, [None], name=\"adv\")\n\n            # . . .\n\n            # the \"policy gradients\" loss:  its derivative is precisely the policy gradient\n            # notice that self.ac is a placeholder that is provided externally.\n            # adv will contain the advantages, as calculated in process_rollout\n            pi_loss = - tf.reduce_sum(tf.reduce_sum(log_prob_tf * self.ac, [1]) * self.adv)\n\nThe self.adv is a placeholder, therefore a constant. The gradient can't leak into a constant, therefore you don't have to explicitly block it through tf.stop_gradient(). \n\nOn the other hand, this implementation uses:\np, v = model(s_t)\n# . . . \nadvantage = r_t - v\nloss_policy = - logp * tf.stop_gradient(advantage)          \n\nThe v is a function of the network parameters and therefore the gradient would propagate.","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jaromiru-com","depth":1,"points":0,"moderationLabels":["anonymous","links"],"isEdited":false,"sb":false},{"editableUntil":"2017-07-20T14:48:47","dislikes":0,"thread":"7199949082","numReports":0,"likes":0,"message":"\u003cp>Hi, may I ask you a question?Are we going to maximize policy entropy or minimize it? Since if we maximize it, more exploration will be simulated.\u003c/p>","id":"4315357622","createdAt":"2017-07-13T14:48:47","author":{"name":"Alexander Yau","url":"http://goingmyway.cn/","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar32.png","cache":"//a.disquscdn.com/1595026414/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"signedUrl":"http://disq.us/?url=http%3A%2F%2Fgoingmyway.cn%2F&key=YvinP7aF9ABpFURTqdSxAA","isAnonymous":true},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":null,"isApproved":true,"isFlagged":false,"raw_message":"Hi, may I ask you a question?Are we going to maximize policy entropy or minimize it? Since if we maximize it, more exploration will be simulated.","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jaromiru-com","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"editableUntil":"2017-07-20T15:56:59","dislikes":0,"thread":"7199949082","numReports":0,"likes":0,"message":"\u003cp>Yes, the entropy is maximized, exactly for that reason.\u003c/p>","id":"4315357689","createdAt":"2017-07-13T15:56:59","author":{"name":"\u30e4\u30ed\u30df\u04e4","url":"http://testblog956.wordpress.com/","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar32.png","cache":"//a.disquscdn.com/1595026414/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"signedUrl":"http://disq.us/?url=http%3A%2F%2Ftestblog956.wordpress.com%2F&key=nxhg-tyA18ii-EsDfX6KSg","isAnonymous":true},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":4315357622,"isApproved":true,"isFlagged":false,"raw_message":"Yes, the entropy is maximized, exactly for that reason.","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jaromiru-com","depth":1,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"editableUntil":"2017-07-12T18:46:39","dislikes":0,"thread":"7199949082","numReports":0,"likes":0,"message":"\u003cp>I noticed that the system seems to be unstable. I can get a score of 500 for several epochs, and then suddenly after optimizing it will massively regress. Is this jus a case of overfitting, and we need to add the typical train and validation?\u003c/p>","id":"4315357603","createdAt":"2017-07-05T18:46:39","author":{"name":"jgustave","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar32.png","cache":"//a.disquscdn.com/1595026414/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":null,"isApproved":true,"isFlagged":false,"raw_message":"I noticed that the system seems to be unstable. I can get a score of 500 for several epochs, and then suddenly after optimizing it will massively regress. Is this jus a case of overfitting, and we need to add the typical train and validation?","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jaromiru-com","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"editableUntil":"2017-07-18T14:26:35","dislikes":0,"thread":"7199949082","numReports":0,"likes":0,"message":"\u003cp>Hello, any large update can destroy the progress so far. I refer you to: Schulman et al., Trust Region Policy Optimization, 2015, \u003ca href=\"https://disq.us/url?url=https%3A%2F%2Farxiv.org%2Fabs%2F1502.05477%3A5l1RlaPEVSEuG_p3fCeEtiE47tQ&amp;cuid=5710794\" rel=\"nofollow noopener\" title=\"https://arxiv.org/abs/1502.05477\">https://arxiv.org/abs/1502....\u003c/a>, where they deal with the issue.\u003c/p>","id":"4315357620","createdAt":"2017-07-11T14:26:35","author":{"name":"\u30e4\u30ed\u30df\u04e4","url":"http://testblog956.wordpress.com/","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar32.png","cache":"//a.disquscdn.com/1595026414/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"signedUrl":"http://disq.us/?url=http%3A%2F%2Ftestblog956.wordpress.com%2F&key=nxhg-tyA18ii-EsDfX6KSg","isAnonymous":true},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":4315357603,"isApproved":true,"isFlagged":false,"raw_message":"Hello, any large update can destroy the progress so far. I refer you to: Schulman et al., Trust Region Policy Optimization, 2015, https://arxiv.org/abs/1502.05477, where they deal with the issue.","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jaromiru-com","depth":1,"points":0,"moderationLabels":["anonymous","links"],"isEdited":false,"sb":false},{"editableUntil":"2017-07-11T15:38:36","dislikes":0,"thread":"7199949082","numReports":0,"likes":0,"message":"\u003cp>Hi. Great post! Love it!!!\u003c/p>\u003cp>I noticed that you compute the discounted reward quite differently than from the paper. The paper uses bootstrapping $V(s_t, \\theta)$ as a seed for non-terminal states, and then work backwards from there, where as your implementation computes the discounted rewards in a forward manner, without bootstrapping.\u003c/p>\u003cp>Can you help me understand the differences, and why you chose your way?\u003c/p>","id":"4315357614","createdAt":"2017-07-04T15:38:36","author":{"name":"Toke Petersen","url":"https://www.facebook.com/app_scoped_user_id/10210163294492445/","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar32.png","cache":"//a.disquscdn.com/1595026414/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"signedUrl":"https://disq.us/?url=https%3A%2F%2Fwww.facebook.com%2Fapp_scoped_user_id%2F10210163294492445%2F&key=u5QXXC0a-xDIGOAu18MCCA","isAnonymous":true},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":null,"isApproved":true,"isFlagged":false,"raw_message":"Hi. Great post! Love it!!!\n\nI noticed that you compute the discounted reward quite differently than from the paper. The paper uses bootstrapping $V(s_t, \\theta)$ as a seed for non-terminal states, and then work backwards from there, where as your implementation computes the discounted rewards in a forward manner, without bootstrapping. \n\nCan you help me understand the differences, and why you chose your way?","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jaromiru-com","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"editableUntil":"2017-07-18T14:22:44","dislikes":0,"thread":"7199949082","numReports":0,"likes":0,"message":"\u003cp>Hi Toke, could you rephrase your question? I don't understand what you're asking.\u003c/p>","id":"4315357693","createdAt":"2017-07-11T14:22:44","author":{"name":"\u30e4\u30ed\u30df\u04e4","url":"http://testblog956.wordpress.com/","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar32.png","cache":"//a.disquscdn.com/1595026414/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"signedUrl":"http://disq.us/?url=http%3A%2F%2Ftestblog956.wordpress.com%2F&key=nxhg-tyA18ii-EsDfX6KSg","isAnonymous":true},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":4315357614,"isApproved":true,"isFlagged":false,"raw_message":"Hi Toke, could you rephrase your question? I don't understand what you're asking.","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jaromiru-com","depth":1,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"editableUntil":"2017-07-08T20:28:42","dislikes":0,"thread":"7199949082","numReports":0,"likes":0,"message":"\u003cp>First, your article is excellent, Thank you!\u003cbr>Second, (sorry for the support question but) I'm curious if there is anything special I need to do to Load/Save the model due to being half Keras and half TF? I've tried the standard \u003cbr>\u003ca href=\"http://disq.us/url?url=http%3A%2F%2Fbrain.model.save%3Aaw5YeRTBB5tGX63G4L-PxJYB4dQ&amp;cuid=5710794\" rel=\"nofollow noopener\" title=\"brain.model.save\">brain.model.save\u003c/a>(...) and keras.models.load_model(...) But it has clearly lost its learning even though the api calls work fine.\u003c/p>","id":"4315357609","createdAt":"2017-07-01T20:28:42","author":{"name":"jgustave","url":"http://gravatar.com/jgustave","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar32.png","cache":"//a.disquscdn.com/1595026414/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"signedUrl":"http://disq.us/?url=http%3A%2F%2Fgravatar.com%2Fjgustave&key=Yv9XXjbqhKAvyGxgHvexuw","isAnonymous":true},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":null,"isApproved":true,"isFlagged":false,"raw_message":"First, your article is excellent, Thank you!\nSecond, (sorry for the support question but) I'm curious if there is anything special I need to do to Load/Save the model due to being half Keras and half TF? I've tried the standard \nbrain.model.save(...) and keras.models.load_model(...) But it has clearly lost its learning even though the api calls work fine.","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jaromiru-com","depth":0,"points":0,"moderationLabels":["anonymous","links"],"isEdited":false,"sb":false},{"editableUntil":"2017-07-12T17:11:57","dislikes":0,"thread":"7199949082","numReports":0,"likes":0,"message":"\u003cp>Answered my own question.. you have to add an extra load_weights() after the \u003ca href=\"http://disq.us/url?url=http%3A%2F%2Fsession.run%3Azf1ftdWEqZcKnepmgRVAxlVuZq0&amp;cuid=5710794\" rel=\"nofollow noopener\" title=\"session.run\">session.run\u003c/a>\u003cbr>        self.model = load_model(FILENAME)\u003cbr>        self.model._make_predict_function()\u003c/p>\u003cp>        \u003ca href=\"http://disq.us/url?url=http%3A%2F%2Fself.session.run%3AEUSmMnOdijvxbesU2bQRHtA4WhM&amp;cuid=5710794\" rel=\"nofollow noopener\" title=\"self.session.run\">self.session.run\u003c/a>(tf.global_variables_initializer())\u003cbr>        self.model.load_weights(FILENAME)\u003c/p>","id":"4315357677","createdAt":"2017-07-05T17:11:57","author":{"name":"jgustave","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar32.png","cache":"//a.disquscdn.com/1595026414/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":4315357609,"isApproved":true,"isFlagged":false,"raw_message":"Answered my own question.. you have to add an extra load_weights() after the session.run\n        self.model = load_model(FILENAME)\n        self.model._make_predict_function()\n\n        self.session.run(tf.global_variables_initializer())\n        self.model.load_weights(FILENAME)","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jaromiru-com","depth":1,"points":0,"moderationLabels":["anonymous","links"],"isEdited":false,"sb":false},{"editableUntil":"2017-07-04T08:53:28","dislikes":0,"thread":"7199949082","numReports":0,"likes":0,"message":"\u003cp>Very nice and easy to understand tutorial!\u003c/p>\u003cp>I have a question on the implementation. Compared to the  A3C paper and probably also to the GA3C paper (I did not read that carefully enough yet) you have an additional random exploration controlled by the parameter epsilon. Have you made the experience that the entropy term in the loss function itself is not sufficient for exploration and the addition of a random action is needed?\u003c/p>","id":"4315357610","createdAt":"2017-06-27T08:53:28","author":{"name":"Oliver","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar32.png","cache":"//a.disquscdn.com/1595026414/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":null,"isApproved":true,"isFlagged":false,"raw_message":"Very nice and easy to understand tutorial! \n\nI have a question on the implementation. Compared to the  A3C paper and probably also to the GA3C paper (I did not read that carefully enough yet) you have an additional random exploration controlled by the parameter epsilon. Have you made the experience that the entropy term in the loss function itself is not sufficient for exploration and the addition of a random action is needed?","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jaromiru-com","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"editableUntil":"2017-07-18T14:15:53","dislikes":0,"thread":"7199949082","numReports":0,"likes":0,"message":"\u003cp>Hi, that is indeed an interesting question. And the current answer is simple - I did not. But I'm interested, if you find any additional conclusions.\u003c/p>","id":"4315357690","createdAt":"2017-07-11T14:15:53","author":{"name":"\u30e4\u30ed\u30df\u04e4","url":"http://testblog956.wordpress.com/","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar32.png","cache":"//a.disquscdn.com/1595026414/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"signedUrl":"http://disq.us/?url=http%3A%2F%2Ftestblog956.wordpress.com%2F&key=nxhg-tyA18ii-EsDfX6KSg","isAnonymous":true},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":4315357610,"isApproved":true,"isFlagged":false,"raw_message":"Hi, that is indeed an interesting question. And the current answer is simple - I did not. But I'm interested, if you find any additional conclusions.","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jaromiru-com","depth":1,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"editableUntil":"2017-07-02T19:41:08","dislikes":0,"thread":"7199949082","numReports":0,"likes":0,"message":"\u003cp>Awesome tutorial Jarom\u00edr! Thank you very much, it is by far the clearest tutorial explaining A3C theory. I have however one question; this is the implementation of the feedforward model of the algorithm, with your trick of the global queue it wouldn't be possible to implement the model with the recurrent layer, right? Since the queue is receiving samples asynchronously from all the agents, the temporal dependencies would be lost. I hope you can help me with this doubt, thanks again!\u003c/p>\u003cp>P.S sorry if there's any mistake with my english, I'm not a native speaker\u003c/p>","id":"4315357619","createdAt":"2017-06-25T19:41:08","author":{"name":"Santiago","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar32.png","cache":"//a.disquscdn.com/1595026414/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":null,"isApproved":true,"isFlagged":false,"raw_message":"Awesome tutorial Jarom&#237;r! Thank you very much, it is by far the clearest tutorial explaining A3C theory. I have however one question; this is the implementation of the feedforward model of the algorithm, with your trick of the global queue it wouldn't be possible to implement the model with the recurrent layer, right? Since the queue is receiving samples asynchronously from all the agents, the temporal dependencies would be lost. I hope you can help me with this doubt, thanks again!\n\nP.S sorry if there's any mistake with my english, I'm not a native speaker","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jaromiru-com","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"editableUntil":"2017-07-18T14:04:54","dislikes":0,"thread":"7199949082","numReports":0,"likes":0,"message":"\u003cp>Yes, RNN would need a different model of storing samples which preserves the temporal dependencies.\u003c/p>","id":"4315357692","createdAt":"2017-07-11T14:04:54","author":{"name":"\u30e4\u30ed\u30df\u04e4","url":"http://testblog956.wordpress.com/","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar32.png","cache":"//a.disquscdn.com/1595026414/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"signedUrl":"http://disq.us/?url=http%3A%2F%2Ftestblog956.wordpress.com%2F&key=nxhg-tyA18ii-EsDfX6KSg","isAnonymous":true},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":4315357619,"isApproved":true,"isFlagged":false,"raw_message":"Yes, RNN would need a different model of storing samples which preserves the temporal dependencies.","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jaromiru-com","depth":1,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"editableUntil":"2017-06-15T20:26:06","dislikes":0,"thread":"7199949082","numReports":0,"likes":0,"message":"\u003cp>Have you tried this code with Atari games?  It seems it never converge.\u003c/p>","id":"4315357596","createdAt":"2017-06-08T20:26:06","author":{"name":"Yan XU","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar32.png","cache":"//a.disquscdn.com/1595026414/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":null,"isApproved":true,"isFlagged":false,"raw_message":"Have you tried this code with Atari games?  It seems it never converge.","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jaromiru-com","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"editableUntil":"2017-06-16T08:32:16","dislikes":0,"thread":"7199949082","numReports":0,"likes":0,"message":"\u003cp>Hi, Atari games is much more complex environment and requires additional tuning of hyper-parameters and additional pre-processing. There was a similar question about MountainCar environment, for which the hyperparameters were tuned by a user on reddit (\u003ca href=\"https://disq.us/url?url=https%3A%2F%2Fwww.reddit.com%2Fr%2FMachineLearning%2Fcomments%2F67fqv8%2Fda3c_performs_badly_in_mountain_car%2F%29%3ABU8cWRfWKI0g3YtzdgCde8GRTsQ&amp;cuid=5710794\" rel=\"nofollow noopener\" title=\"https://www.reddit.com/r/MachineLearning/comments/67fqv8/da3c_performs_badly_in_mountain_car/)\">https://www.reddit.com/r/Ma...\u003c/a>. You can start there.\u003c/p>","id":"4315357682","createdAt":"2017-06-09T08:32:16","author":{"name":"\u30e4\u30ed\u30df\u04e4","url":"http://testblog956.wordpress.com/","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar32.png","cache":"//a.disquscdn.com/1595026414/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"signedUrl":"http://disq.us/?url=http%3A%2F%2Ftestblog956.wordpress.com%2F&key=nxhg-tyA18ii-EsDfX6KSg","isAnonymous":true},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":4315357596,"isApproved":true,"isFlagged":false,"raw_message":"Hi, Atari games is much more complex environment and requires additional tuning of hyper-parameters and additional pre-processing. There was a similar question about MountainCar environment, for which the hyperparameters were tuned by a user on reddit (https://www.reddit.com/r/MachineLearning/comments/67fqv8/da3c_performs_badly_in_mountain_car/). You can start there.","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jaromiru-com","depth":1,"points":0,"moderationLabels":["anonymous","links"],"isEdited":false,"sb":false},{"editableUntil":"2017-06-10T12:40:14","dislikes":0,"thread":"7199949082","numReports":0,"likes":0,"message":"\u003cp>any more  article on a3c or other Deep Reinforcement learning?\u003c/p>","id":"4315357600","createdAt":"2017-06-03T12:40:14","author":{"name":"Andy","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar32.png","cache":"//a.disquscdn.com/1595026414/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":null,"isApproved":true,"isFlagged":false,"raw_message":"any more  article on a3c or other Deep Reinforcement learning?","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jaromiru-com","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"editableUntil":"2017-05-23T18:16:53","dislikes":0,"thread":"7199949082","numReports":0,"likes":0,"message":"\u003cp>Hi, I wonder what is the reason Tensorflow can't automatically compute A(s,a) if you don't treat it as a constant. I mean there is no cycle in a graph and gradient w.r.t v(s) is known.\u003cbr>Although I suspect in general it should be regarded as constant, as although in practice we share some part of the parameters for actor and critic, we treat them as separate things in formulas. That's what I think so far..\u003c/p>","id":"4315357592","createdAt":"2017-05-16T18:16:53","author":{"name":"Anonymous","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar32.png","cache":"//a.disquscdn.com/1595026414/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":null,"isApproved":true,"isFlagged":false,"raw_message":"Hi, I wonder what is the reason Tensorflow can't automatically compute A(s,a) if you don't treat it as a constant. I mean there is no cycle in a graph and gradient w.r.t v(s) is known.\nAlthough I suspect in general it should be regarded as constant, as although in practice we share some part of the parameters for actor and critic, we treat them as separate things in formulas. That's what I think so far..","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jaromiru-com","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"editableUntil":"2017-05-24T16:11:20","dislikes":0,"thread":"7199949082","numReports":0,"likes":0,"message":"\u003cp>You have to treat the A(s, a) in the formula for gradient of J as constant, because that's what the formula says. Look again at the Policy Gradient formula and pay attention what it says and what is gradient of what. Reread the passage.\u003c/p>\u003cp>Tensorflow has no problem if you don't stop the gradient flow and will happily compute it. It would be uncorrect, though.\u003c/p>","id":"4315357687","createdAt":"2017-05-17T16:11:20","author":{"name":"\u30e4\u30ed\u30df\u04e4","url":"http://testblog956.wordpress.com/","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar32.png","cache":"//a.disquscdn.com/1595026414/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"signedUrl":"http://disq.us/?url=http%3A%2F%2Ftestblog956.wordpress.com%2F&key=nxhg-tyA18ii-EsDfX6KSg","isAnonymous":true},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":4315357592,"isApproved":true,"isFlagged":false,"raw_message":"You have to treat the A(s, a) in the formula for gradient of J as constant, because that's what the formula says. Look again at the Policy Gradient formula and pay attention what it says and what is gradient of what. Reread the passage.\n\nTensorflow has no problem if you don't stop the gradient flow and will happily compute it. It would be uncorrect, though.","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jaromiru-com","depth":1,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"editableUntil":"2017-05-03T03:21:23","dislikes":0,"thread":"7199949082","numReports":0,"likes":0,"message":"\u003cp>I found something new about MountainCar environment. I have gym rendered the training process of A3C (training using only 1 thread), and found that it actually reaches the goal quite quickly. Before reaching the goal for the first time, it behaves reasonably, but after reaching the goal for several times, for unknown reasons it suddenly converge to a very bad policy that always wants to go left/right...\u003c/p>\u003cp>Would you please try if things are the same in your side? If so, what is the reason of it? I have opened a thread in \u003ca href=\"https://disq.us/url?url=https%3A%2F%2Fwww.reddit.com%2Fr%2FMachineLearning%2Fcomments%2F67fqv8%2Fda3c_performs_badly_in_mountain_car%2F%3AmvkQrl-SeMWgcfBJGELfeMyKPyU&amp;cuid=5710794\" rel=\"nofollow noopener\" title=\"https://www.reddit.com/r/MachineLearning/comments/67fqv8/da3c_performs_badly_in_mountain_car/\">https://www.reddit.com/r/Ma...\u003c/a>.\u003c/p>\u003cp>Thank you!\u003c/p>","id":"4315357591","createdAt":"2017-04-26T03:21:23","author":{"name":"DarkZero","url":"http://darkforte.github.io/","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar32.png","cache":"//a.disquscdn.com/1595026414/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"signedUrl":"http://disq.us/?url=http%3A%2F%2Fdarkforte.github.io%2F&key=461h5m4P7hQH0BYIunnFQg","isAnonymous":true},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":null,"isApproved":true,"isFlagged":false,"raw_message":"I found something new about MountainCar environment. I have gym rendered the training process of A3C (training using only 1 thread), and found that it actually reaches the goal quite quickly. Before reaching the goal for the first time, it behaves reasonably, but after reaching the goal for several times, for unknown reasons it suddenly converge to a very bad policy that always wants to go left/right...\n\nWould you please try if things are the same in your side? If so, what is the reason of it? I have opened a thread in https://www.reddit.com/r/MachineLearning/comments/67fqv8/da3c_performs_badly_in_mountain_car/. \n\nThank you!","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jaromiru-com","depth":0,"points":0,"moderationLabels":["anonymous","links"],"isEdited":false,"sb":false},{"editableUntil":"2017-04-21T02:30:36","dislikes":0,"thread":"7199949082","numReports":0,"likes":0,"message":"\u003cp>Thank you for your post on A3C code!\u003c/p>\u003cp>I tried out your code on CartPole and MountainCar, in CartPole it works really well, taking less than 3 minutes to reach a cumulative reward of 475 and solved v1 environment.\u003c/p>\u003cp>However, when comes to MountainCar it performs badly. The policy network seems to converge so that the car always wants to go left/right in all situations, while DQN worked fairly well after training for about 10 minutes. I have not found a reason why this code do not work in CartPole yet. Have you tried out the MountainCar problem? I would appreciate if you can give some hints on solving that environment.\u003c/p>","id":"4315357583","createdAt":"2017-04-14T02:30:36","author":{"name":"DarkZero","url":"http://darkforte.github.io/","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar32.png","cache":"//a.disquscdn.com/1595026414/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"signedUrl":"http://disq.us/?url=http%3A%2F%2Fdarkforte.github.io%2F&key=461h5m4P7hQH0BYIunnFQg","isAnonymous":true},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":null,"isApproved":true,"isFlagged":false,"raw_message":"Thank you for your post on A3C code!\n\nI tried out your code on CartPole and MountainCar, in CartPole it works really well, taking less than 3 minutes to reach a cumulative reward of 475 and solved v1 environment. \n\nHowever, when comes to MountainCar it performs badly. The policy network seems to converge so that the car always wants to go left/right in all situations, while DQN worked fairly well after training for about 10 minutes. I have not found a reason why this code do not work in CartPole yet. Have you tried out the MountainCar problem? I would appreciate if you can give some hints on solving that environment.","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jaromiru-com","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"editableUntil":"2017-04-25T08:55:37","dislikes":0,"thread":"7199949082","numReports":0,"likes":0,"message":"\u003cp>I can't reply Jaromiru's reply so I'll have to write it here...\u003c/p>\u003cp>Jaromiru said that DQN indeed performs better here, but in DQN it also starts from pure random actions, so it is also hard for it to observe a success episode. How can it make progress? I rendered the training process, and can see concrete improvement of the car.\u003c/p>\u003cp>The problem with A3C seems to be that it always wants to go right/left in the end. I don't know how it comes to this conclusion. I tried decreasing eps from 1.0 to 0.01 slowly but that does not work. Actually, at the very beginning A3C behaves randomly as well, so I don't think this have so much to do with the setting of epsilon...\u003c/p>","id":"4315357673","createdAt":"2017-04-18T08:55:37","author":{"name":"DarkZero","url":"http://darkforte.github.io/","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar32.png","cache":"//a.disquscdn.com/1595026414/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"signedUrl":"http://disq.us/?url=http%3A%2F%2Fdarkforte.github.io%2F&key=461h5m4P7hQH0BYIunnFQg","isAnonymous":true},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":4315357583,"isApproved":true,"isFlagged":false,"raw_message":"I can't reply Jaromiru's reply so I'll have to write it here...\n\nJaromiru said that DQN indeed performs better here, but in DQN it also starts from pure random actions, so it is also hard for it to observe a success episode. How can it make progress? I rendered the training process, and can see concrete improvement of the car.\n\nThe problem with A3C seems to be that it always wants to go right/left in the end. I don't know how it comes to this conclusion. I tried decreasing eps from 1.0 to 0.01 slowly but that does not work. Actually, at the very beginning A3C behaves randomly as well, so I don't think this have so much to do with the setting of epsilon...","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jaromiru-com","depth":1,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"editableUntil":"2017-04-21T19:31:00","dislikes":0,"thread":"7199949082","numReports":0,"likes":0,"message":"\u003cp>Yes, I noticed it struggles in MountainCar environment. The problem with A3C is that it can only improve a current policy with little steps. In mountain car environment, only non-negative reward is awarded when reaching the goal. Since a random policy rarely reaches this goal, the algorithm does not know what to improve. I'd guess that going from epsilon 1.0 slowly down might help. Once it finds a policy that at least performs somehow, the algorithm can improve it.\u003c/p>\u003cp>Compare that to DQN - when the goal is reached:\u003cbr>a) the memory is saved and gets replayed many times \u003cbr>b) the change in Q function gets propagated through states backwards (see the update formula)\u003c/p>\u003cp>That's why DQN performs better here.\u003c/p>","id":"4315357669","createdAt":"2017-04-14T19:31:00","author":{"name":"\u30e4\u30ed\u30df\u04e4","url":"http://testblog956.wordpress.com/","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar32.png","cache":"//a.disquscdn.com/1595026414/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"signedUrl":"http://disq.us/?url=http%3A%2F%2Ftestblog956.wordpress.com%2F&key=nxhg-tyA18ii-EsDfX6KSg","isAnonymous":true},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":4315357583,"isApproved":true,"isFlagged":false,"raw_message":"Yes, I noticed it struggles in MountainCar environment. The problem with A3C is that it can only improve a current policy with little steps. In mountain car environment, only non-negative reward is awarded when reaching the goal. Since a random policy rarely reaches this goal, the algorithm does not know what to improve. I'd guess that going from epsilon 1.0 slowly down might help. Once it finds a policy that at least performs somehow, the algorithm can improve it.\n\nCompare that to DQN - when the goal is reached:\na) the memory is saved and gets replayed many times \nb) the change in Q function gets propagated through states backwards (see the update formula)\n\nThat's why DQN performs better here.","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jaromiru-com","depth":1,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"editableUntil":"2017-04-20T19:34:40","dislikes":0,"thread":"7199949082","numReports":0,"likes":0,"message":"\u003cp>Thank you very much for your post, it is very helpful for me.\u003c/p>\u003cp>I have one question for you. If my understanding is right, in your implementation, your local workers interacts with their own environments, but push the (s, a, r, s') to a global shared queue. The global optimizer computes the gradients based on the samples in the global shared queue, and updates the global network. Is is like synchronous update? In the Deepmind's paper of \"Asynchronous methods for deep reinforcement learning\", it writes \"Perform asynchronous update of \\theta (global shared) using \\delta \\theta\". Actually I don't quite understand what it means.\u003c/p>","id":"4315357589","createdAt":"2017-04-13T19:34:40","author":{"name":"zhiang zhang","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar32.png","cache":"//a.disquscdn.com/1595026414/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":null,"isApproved":true,"isFlagged":false,"raw_message":"Thank you very much for your post, it is very helpful for me. \n\nI have one question for you. If my understanding is right, in your implementation, your local workers interacts with their own environments, but push the (s, a, r, s') to a global shared queue. The global optimizer computes the gradients based on the samples in the global shared queue, and updates the global network. Is is like synchronous update? In the Deepmind's paper of \"Asynchronous methods for deep reinforcement learning\", it writes \"Perform asynchronous update of \\theta (global shared) using \\delta \\theta\". Actually I don't quite understand what it means.","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jaromiru-com","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"editableUntil":"2017-05-31T04:14:58","dislikes":0,"thread":"7199949082","numReports":0,"likes":0,"message":"\u003cp>In fact, this design is more like GA3C (\u003ca href=\"https://disq.us/url?url=https%3A%2F%2Fopenreview.net%2Fforum%3Fid%3Dr1VGvBcxl%29%3ATuJU_MaJPI2Jl-6mYeYGflQhBxM&amp;cuid=5710794\" rel=\"nofollow noopener\" title=\"https://openreview.net/forum?id=r1VGvBcxl)\">https://openreview.net/foru...\u003c/a> which is more GPU friendly and easier to implement. The potential problem of this is \"policy lag\" which is also discussed in this paper.\u003c/p>","id":"4315357608","createdAt":"2017-05-24T04:14:58","author":{"name":"DarkZero","url":"http://darkforte.github.io/","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar32.png","cache":"//a.disquscdn.com/1595026414/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"signedUrl":"http://disq.us/?url=http%3A%2F%2Fdarkforte.github.io%2F&key=461h5m4P7hQH0BYIunnFQg","isAnonymous":true},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":4315357589,"isApproved":true,"isFlagged":false,"raw_message":"In fact, this design is more like GA3C (https://openreview.net/forum?id=r1VGvBcxl) which is more GPU friendly and easier to implement. The potential problem of this is \"policy lag\" which is also discussed in this paper.","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jaromiru-com","depth":1,"points":0,"moderationLabels":["anonymous","links"],"isEdited":false,"sb":false},{"editableUntil":"2017-04-21T19:25:58","dislikes":0,"thread":"7199949082","numReports":0,"likes":0,"message":"\u003cp>You can either update the shared network in each agent thread, but collecting all the experiences in one queue has a substantial advantage - you can process them in batch, much more efficiently. Since it's in a separate thread, I'd still say it's asynchronous - in relation to agents.\u003c/p>","id":"4315357666","createdAt":"2017-04-14T19:25:58","author":{"name":"\u30e4\u30ed\u30df\u04e4","url":"http://testblog956.wordpress.com/","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar32.png","cache":"//a.disquscdn.com/1595026414/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"signedUrl":"http://disq.us/?url=http%3A%2F%2Ftestblog956.wordpress.com%2F&key=nxhg-tyA18ii-EsDfX6KSg","isAnonymous":true},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":4315357589,"isApproved":true,"isFlagged":false,"raw_message":"You can either update the shared network in each agent thread, but collecting all the experiences in one queue has a substantial advantage - you can process them in batch, much more efficiently. Since it's in a separate thread, I'd still say it's asynchronous - in relation to agents.","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jaromiru-com","depth":1,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"editableUntil":"2017-04-21T02:41:19","dislikes":0,"thread":"7199949082","numReports":0,"likes":0,"message":"\u003cp>The code is not written identically to the paper. The key idea of A3C is to explore and train the model concurrently in order to emphasize exploration and break associations between experiences. Jaromiru's code puts experiences from different threads into the same global queue, also achieving the two goals. This is a more convenient implementation of A3C on a single machine, I guess.\u003c/p>","id":"4315357667","createdAt":"2017-04-14T02:41:19","author":{"name":"DarkZero","url":"http://darkforte.github.io/","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar32.png","cache":"//a.disquscdn.com/1595026414/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"signedUrl":"http://disq.us/?url=http%3A%2F%2Fdarkforte.github.io%2F&key=461h5m4P7hQH0BYIunnFQg","isAnonymous":true},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":4315357589,"isApproved":true,"isFlagged":false,"raw_message":"The code is not written identically to the paper. The key idea of A3C is to explore and train the model concurrently in order to emphasize exploration and break associations between experiences. Jaromiru's code puts experiences from different threads into the same global queue, also achieving the two goals. This is a more convenient implementation of A3C on a single machine, I guess.","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jaromiru-com","depth":1,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false},{"editableUntil":"2017-04-03T04:24:46","dislikes":0,"thread":"7199949082","numReports":0,"likes":0,"message":"\u003cp>Amazing! Thank you so much for sharing such an incredibly detailed and invaluable tutorial. I wish more people in the academic world were so willing to help the rest of us, by sharing knowledge the way you are doing. After all, what is the purpose of having an open AI gym if we do not have intructors to guide us through the exercises? How are we supposed to learn? Congratulations, thank you, and keep up the great work.\u003c/p>","id":"4315357584","createdAt":"2017-03-27T04:24:46","author":{"name":"fabrizio","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar32.png","cache":"//a.disquscdn.com/1595026414/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1595026414/images/noavatar92.png","cache":"//a.disquscdn.com/1595026414/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"hasMore":false,"isDeleted":false,"isDeletedByAuthor":false,"parent":null,"isApproved":true,"isFlagged":false,"raw_message":"Amazing! Thank you so much for sharing such an incredibly detailed and invaluable tutorial. I wish more people in the academic world were so willing to help the rest of us, by sharing knowledge the way you are doing. After all, what is the purpose of having an open AI gym if we do not have intructors to guide us through the exercises? How are we supposed to learn? Congratulations, thank you, and keep up the great work.","isAtFlagLimit":false,"isHighlighted":false,"canVote":false,"forum":"jaromiru-com","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false,"sb":false}],"thread":{"feed":"https://jaromiru-com.disqus.com/lets_make_an_a3c_implementation/latest.rss","clean_title":"Let's make an A3C: Implementation","dislikes":0,"likes":0,"message":"","ratingsEnabled":false,"isSpam":false,"isDeleted":false,"category":"7909843","adsDisabled":false,"author":"224234520","id":"7199949082","signedLink":"http://disq.us/?url=http%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&key=bPhB13AyDfU7C-cd-JEEmg","createdAt":"2017-03-26T17:54:22","hasStreaming":false,"raw_message":"","isClosed":false,"link":"http://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/","slug":"lets_make_an_a3c_implementation","forum":"jaromiru-com","identifiers":["/2017/03/26/lets-make-an-a3c-implementation"],"posts":51,"moderators":[224234520],"validateAllPosts":false,"title":"Let's make an A3C: Implementation","highlightedPost":null}},"order":"popular"}</script>


    <div id="fixed-content"></div>


    
        
            
<script type="text/json" id="disqus-urls">{
    "root":"//disqus.com",
    "next":"https://c.disquscdn.com/next/current/embed"
}</script>

        
        
        <script>!function () {
            var d = document;
            var toH = d.head.appendChild.bind(d.head);

            var v = window.location.href.match(/[#&?]version=([0-9a-f]{32})/);
            var src = 'https://c.disquscdn.com/next/embed/lounge.load';
            if (v)
                src += '.' + v[1];
            src += '.js';

            var s = d.createElement('script');
            s.crossOrigin = 'anonymous';
            s.id = 'bootstrap-script';
            s.setAttribute('data-app', 'lounge');
            s.src = src;
            toH(s);

            var m = d.createElement('meta');
            m.setAttribute('http-equiv', 'Content-Security-Policy');
            m.setAttribute('content', "script-src https:;");
            toH(m);
        }();</script>
    


<script src="./common.bundle.f9de3d662c5d03c937747411c45f2ea2.js.download"></script><div id="layout" data-tracking-area="layout"><div id="thread__container"><div><div id="thread__wrapper"><div id="placement-top" data-tracking-area="discovery-north"><div class="post-list" style="height: 0px; visibility: hidden;"></div></div><div id="lightbox__container"></div><div id="onboard" data-tracking-area="onboard"></div><div id="reactions__container"></div><div id="ratings__container"></div><div id="highlighted-post" data-tracking-area="highlighted" class="highlighted-post" style="display: none;"></div><div id="global-alert"></div><div id="tos__container"></div><header id="main-nav" data-tracking-area="main-nav"><nav class="nav nav-primary"><ul><li class="nav-tab nav-tab--primary tab-conversation active" data-role="post-count"><a class="publisher-nav-color"><span class="comment-count">51 comments</span><span class="comment-count-placeholder">Comments</span></a></li><li class="nav-tab nav-tab--primary tab-general"><a href="https://disqus.com/home/forums/jaromiru-com/" class="publisher-nav-color" data-action="community-sidebar" data-forum="jaromiru-com" id="community-tab" name=""><span class="community-name"><strong></strong></span><strong class="community-name-placeholder">Community</strong></a></li><li class="nav-tab nav-tab--primary tab-general"><a href="https://help.disqus.com/customer/portal/articles/466259-privacy-policy" rel="nofollow noopener noreferrer" target="_blank" class="publisher-nav-color privacy-policy" title="Disqus&#39; Privacy Policy"><i aria-hidden="true" class="icon icon-lock"></i><span class="clip privacy-policy-full hidden-md">&nbsp;Disqus' Privacy Policy</span><span class="clip privacy-policy-short">&nbsp;Privacy Policy</span></a></li><li class="nav-tab nav-tab--primary dropdown user-menu media-collapsed" data-role="logout"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="dropdown-toggle" data-toggle="dropdown" role="menuitem" name="Login"><span class="dropdown-toggle-wrapper"><span>Login</span> </span> <span class="caret"></span></a><ul class="dropdown-menu"><li><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="auth:disqus">Disqus</a></li><li><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="auth:facebook">Facebook</a></li><li><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="auth:twitter">Twitter</a></li><li><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="auth:google">Google</a></li></ul></li><li class="nav-tab nav-tab--primary notification-menu unread" data-role="notification-menu" style="display: list-item;"><a href="https://disqus.com/home/inbox/" class="notification-container" data-action="home" data-home-path="home/inbox/"><span class="notification-icon icon-comment" aria-hidden="true"></span><span class="notification-count" data-role="notification-count">1</span></a></li></ul></nav></header><section id="conversation" data-role="main" data-tracking-area="main"><div class="nav nav-secondary" data-tracking-area="secondary-nav"><ul><li id="recommend-button" class="nav-tab nav-tab--secondary recommend dropdown"><div class="thread-likes"><div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="recommend" title="Recommend this discussion" class="dropdown-toggle "><span class="label label-default"><span class="recommend-icon icon-heart-empty"></span> Recommend</span><span class="label label-recommended"><span class="recommend-icon icon-heart"></span> Recommended</span> </a><ul class="dropdown-menu dropdown-menu--coachmark"><li><div><h2 class="coachmark__heading">Discussion Recommended!</h2><p class="coachmark__description">Recommending means this is a discussion worth sharing. It gets shared to your followers' Disqus feeds, and gives the creator kudos!</p></div> <a href="https://disqus.com/home/?utm_source=disqus_embed&amp;utm_content=recommend_btn" class="btn btn-primary coachmark__button" target="_blank">Find More Discussions</a></li></ul></div></div></li><li id="thread-share-bar" class="nav-tab nav-tab--secondary share-bar hidden-sm"><div class="thread-share-bar-buttons"><span class="thread-share__button share-twitter" data-action="share:twitter" tabindex="0"><span class="icon-twitter"></span><span class="share-text">Tweet</span></span><span class="thread-share__button share-facebook" data-action="share:facebook" tabindex="0"><span class="icon-facebook"></span><span class="share-text">Share</span></span></div></li><li data-role="post-sort" class="nav-tab nav-tab--secondary dropdown sorting pull-right"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="dropdown-toggle" data-toggle="dropdown">Sort by Best<span class="caret"></span></a><ul class="dropdown-menu pull-right"><li class="selected"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="sort" data-sort="popular">Best<i aria-hidden="true" class="icon-checkmark"></i></a></li><li class=""><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="sort" data-sort="desc">Newest<i aria-hidden="true" class="icon-checkmark"></i></a></li><li class=""><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="sort" data-sort="asc">Oldest<i aria-hidden="true" class="icon-checkmark"></i></a></li></ul></li></ul></div><div id="posts"><div id="form" class="textarea-outer-wrapper--top-level"><form class="reply"><div class="postbox"><div role="alert"></div><div class="ratings-wrapper" data-role="ratings-container"></div><div class="compose-wrapper"><div class="avatar"><span class="user"><img data-role="user-avatar" src="./noavatar92.png" alt="Avatar"></span></div><div class="textarea-outer-wrapper"><div class="textarea-wrapper" data-role="textarea" dir="auto"><div><span class="placeholder">Join the discussion</span><div class="textarea" tabindex="0" role="textbox" aria-multiline="true" contenteditable="PLAINTEXT-ONLY" data-role="editable" aria-label="Join the discussion" style="overflow: auto; overflow-wrap: break-word; max-height: 350px;"><p><br></p></div><div style="display: none;"><ul class="user-mention__list" id="user-mention-list"><li class="header user-mention__header"><h5>in this conversation</h5></li></ul></div></div><div data-role="drag-drop-placeholder" class="media-drag-hover" style="display: none;"><div class="drag-text"> Drag and drop your images here to upload them.</div></div><div class="media-preview empty" data-role="media-preview"><ul data-role="media-progress-list"></ul>
<ul data-role="media-rich-list"></ul>
<div class="media-expanded empty" data-role="media-preview-expanded">
<img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" data-role="media-preview-expanded-image" alt="Media preview placeholder">
</div>
</div><div class="edit-alert" role="postbox-alert"></div><div class="text-editor-container"><div class="post-actions"><div class="wysiwyg"><div class="gif-picker"><div class="wysiwyg__item" data-role="gif-picker-toggle" title="GIF"><div class="wysiwyg__gif" title="GIF" role="img" aria-label="GIF"></div></div><div class="hidden gif-picker__popout-container" data-role="gif-picker-popout-container"></div><div class="new-feature-badge-star" title="New"><div class="wysiwyg__star-badge wysiwyg__star-badge-dims"></div></div></div><div class="media-uploader"><li class="wysiwyg__item" data-role="media-uploader"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" tabindex="-1" data-action="attach" class="attach" title="Upload Images">
<div class="wysiwyg__attach wysiwyg__attach-dims" role="img" aria-label="A"></div>
</a>
<input type="file" data-role="media-upload" tabindex="-1" accept="image/*">
</li></div><div class="vertical-separator"></div><div data-action="text-editor-buttons"><div class="wysiwyg__item" data-action="text-editor-tag" data-tag="b"><div class="wysiwyg__bold" title="Bold" role="img" aria-label="B"></div></div><div class="wysiwyg__item" data-action="text-editor-tag" data-tag="i"><div class="wysiwyg__italic" title="Italic" role="img" aria-label="I"></div></div><div class="wysiwyg__item" data-action="text-editor-tag" data-tag="u"><div class="wysiwyg__underline" title="Underline" role="img" aria-label="U"></div></div><div class="wysiwyg__item" data-action="text-editor-tag" data-tag="s"><div class="wysiwyg__strikethrough" title="Strikethrough" role="img" aria-label="S"></div></div><div class="wysiwyg__item" data-action="text-editor-tag" data-tag="a"><div class="wysiwyg__link" title="Link" role="img" aria-label="L"></div></div><div class="wysiwyg__item" data-action="text-editor-tag" data-tag="spoiler"><div class="wysiwyg__spoiler" title="Spoiler" role="img" aria-label="Sp"></div></div><div class="wysiwyg__item" data-action="text-editor-tag" data-tag="code"><div class="wysiwyg__code" title="Code" role="img" aria-label="C"></div></div><div class="wysiwyg__item" data-action="text-editor-tag" data-tag="blockquote"><div class="wysiwyg__blockquote" title="Quote" role="img" aria-label="Q"></div></div></div></div><div class="logged-in"><section><div class="temp-post"><button class="btn post-action__button full-size-button hidden">Post as <span data-role="username"></span></button><button class="btn post-action__button small-size-button hidden">Post</button></div></section></div></div></div></div></div></div><div data-role="login-form"><div><div><section class="auth-section logged-out__display"><div class="connect"><h6>Log in with</h6><ul data-role="login-menu" class="services login-buttons"><li class="auth-disqus"><button type="button" data-action="auth:disqus" title="Disqus" class="connect__button"><i class="icon-disqus"></i></button></li><li class="auth-facebook"><button type="button" data-action="auth:facebook" title="Facebook" class="connect__button"><i class="icon-facebook-circle"></i></button></li><li class="auth-twitter"><button type="button" data-action="auth:twitter" title="Twitter" class="connect__button"><i class="icon-twitter-circle"></i></button></li><li class="auth-google"><button type="button" data-action="auth:google" title="Google" class="connect__button"><i class="icon-google-plus-circle"></i></button></li></ul></div><div class="guest"><h6 class="guest-form-title"><span class="register-text"> or sign up with Disqus </span><span class="guest-text"> or pick a name </span></h6> <div class="help-tooltip__wrapper help-icon" tabindex="0"><div id="rules" class="tooltip show help-tooltip"><h3 class="help-tooltip__heading">Disqus is a discussion network</h3><ul class="help-tooltip__list"><li><span>Disqus never moderates or censors. The rules on this community are its own.</span></li><li><span>Don't be a jerk or do anything illegal. Everything is easier that way.</span></li></ul><p class="clearfix"><a href="https://docs.disqus.com/kb/terms-and-policies/" class="btn btn-small help-tooltip__button" target="_blank">Read full terms and conditions</a></p></div></div><p class="input-wrapper"><input dir="auto" type="text" placeholder="Name" name="display_name" id="view131_display_name" maxlength="30" class="input--text" aria-label="name"></p><div class="guest-details " data-role="guest-details"><p class="input-wrapper"><input dir="auto" type="email" placeholder="Email" name="email" id="view131_email" class="input--text" aria-label="email"></p><p class="input-wrapper"><input dir="auto" disabled="" type="text" class="register-text input--text" placeholder="Password" name="password" aria-label="password" id="view131_password"></p><div class="acceptance-wrapper"><p><label><input type="checkbox" name="tos"><span class="spacing-left-small">I agree to Disqus' <a href="https://help.disqus.com/customer/portal/articles/466260-terms-of-service" target="_blank" rel="noopener noreferrer">Terms of Service</a></span></label></p><p><label><input type="checkbox" name="privacy-policy"><span class="spacing-left-small">I agree to Disqus' processing of email and IP address, and the use of cookies, to facilitate my authentication and posting of comments, explained further in the <a href="https://help.disqus.com/customer/portal/articles/466259-privacy-policy" target="_blank" rel="noopener noreferrer">Privacy Policy</a></span></label></p><p><label><input type="checkbox" name="data-sharing"><span class="spacing-left-small">I agree to additional processing of my information, including first and third party cookies, for personalized content and advertising as outlined in our <a href="https://disqus.com/data-sharing-settings/">Data Sharing Policy</a></span></label></p></div><input type="checkbox" name="author-guest" style="display: none;"><div class="g-recaptcha" data-role="grecaptcha-container"></div><div class="proceed" data-role="submit-btn-container"><button type="submit" class="proceed__button btn submit" aria-label="Next" disabled="disabled"><span class="icon-proceed"></span><div class="spinner"></div></button></div></div></div></section></div></div></div></div></form></div><button class="alert alert--realtime" data-role="realtime-notification" style="display: none;"></button><div id="email-signup"></div><div id="no-posts" style="display: none;"></div><ul id="post-list" class="post-list"><li class="post" id="post-4664794705"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4664794705"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span></span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar hovercard"><a href="https://disqus.com/by/zhouxie/" data-action="profile" data-username="zhouxie" target="_blank" rel="noopener noreferrer" class="user"><img data-role="user-avatar" data-user="339739861" src="./noavatar92.png" alt="Avatar"></a></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span> <span class="author publisher-anchor-color"><a href="https://disqus.com/by/zhouxie/" data-action="profile" data-username="zhouxie" target="_blank" rel="noopener noreferrer">xlrhl</a></span> </span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true"></span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4664794705" data-role="relative-time" class="time-ago" title="Friday, October 25, 2019 1:13 AM">9 months ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>How would you add a LSTM layer to this model? How the optimize function would be changed in this case? I assume lstm layer would force state dimensions to be changed as you cannot pass (None, state_size) as None is not acceptable. In this case, you will have 3D array rather than 2D.</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true"></li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true"></li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share </span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/255aqmp" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4664794705"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4664794705-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#">Show more replies</a></div></div></li><li class="post" id="post-4575092961"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4575092961"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span></span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar hovercard"><a href="https://disqus.com/by/zhiqiu/" data-action="profile" data-username="zhiqiu" target="_blank" rel="noopener noreferrer" class="user"><img data-role="user-avatar" data-user="336244044" src="./noavatar92.png" alt="Avatar"></a></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span> <span class="author publisher-anchor-color"><a href="https://disqus.com/by/zhiqiu/" data-action="profile" data-username="zhiqiu" target="_blank" rel="noopener noreferrer">Zhi Qiu</a></span> </span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true"></span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4575092961" data-role="relative-time" class="time-ago" title="Monday, August 12, 2019 6:22 AM">a year ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Hi Jaromiru, thanks for this amazing post, I found the code clean and easy to understand (and the theory) :)</p><p>I'm currently puzzled that I accidentally changed:<br>v = self.predict_v(s_)<br>to<br>v = self.predict_v(s)<br>-- but it still seem to work -- why is so?</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true"></li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true"></li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share </span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/23nw4bl" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4575092961"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"><li class="post" id="post-4599956975"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4599956975"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span></span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar hovercard"><a href="https://disqus.com/by/danielkarsek/" data-action="profile" data-username="danielkarsek" target="_blank" rel="noopener noreferrer" class="user"><img data-role="user-avatar" data-user="337198743" src="./noavatar92.png" alt="Avatar"></a></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span> <span class="author publisher-anchor-color"><a href="https://disqus.com/by/danielkarsek/" data-action="profile" data-username="danielkarsek" target="_blank" rel="noopener noreferrer">Daniel Karsek</a></span> </span><span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4575092961" class="parent-link" data-role="parent-link"><i aria-label="in reply to" class="icon-forward" title="in reply to"></i> Zhi Qiu</a></span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true"></span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4599956975" data-role="relative-time" class="time-ago" title="Sunday, September 1, 2019 5:25 PM">a year ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>In this environment v_t (value at time t) and v_t+1 are nearly same, therefore v_t is a good approximation of v_t+1, in an environment where rewards is sparse or rewards are different this wouldn't hold and the BOT would learn little to nothing.</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true"></li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true"></li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share </span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/242p1in" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4599956975"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4599956975-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#">Show more replies</a></div></div></li></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4575092961-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#">Show more replies</a></div></div></li><li class="post" id="post-4315357629"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4315357629"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span></span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar"><div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span class="author">pSilva</span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true"></span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357629" data-role="relative-time" class="time-ago" title="Tuesday, September 25, 2018 11:01 AM">2 years ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>First of all, thank you for such an amazing tutorial and code!</p><p>On a side note: how does one extract the achieved optimal policy? Say I want to extract an n-dimensional array showcasing the action to be selected at each state, so we can analyze it. How can one go about extracting it?</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true"></li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true"></li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share </span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/1zd9399" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4315357629"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4315357629-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#">Show more replies</a></div></div></li><li class="post" id="post-4315357625"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4315357625"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span></span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar"><div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span class="author">Shivan Nawal</span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true"></span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357625" data-role="relative-time" class="time-ago" title="Friday, September 7, 2018 3:13 PM">2 years ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Amazing tutorial. I've been researching this algorithm and this is one of the most clearly stated articles so far.</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true"></li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true"></li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share </span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/1zd9395" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4315357625"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4315357625-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#">Show more replies</a></div></div></li><li class="post" id="post-4315357628"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4315357628"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span></span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar"><div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span class="author">wallygator</span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true"></span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357628" data-role="relative-time" class="time-ago" title="Sunday, September 2, 2018 6:23 AM">2 years ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Great article!  I have a question on how the optimizer minimizes the loss - I realize that this is more of a tensor-flow question, but it is a key part of the processes that I was hoping you could help me out with.</p><p>In your code:</p><p>loss_total = tf.reduce_mean(loss_policy + loss_value + entropy)<br>minimize = optimizer.minimize(loss_total)</p><p>Is the 'loss_total' a value stored in a variable that is then just back-propagated back up through the model via the optimizer.minimize function where the optimizer calculates the gradient of the loss wrt each layer's learnable parameters?</p><p>So for example if on one iteration 'loss_total' = 15.2, does the optimizer.minimize then back-propagate that value back up through the model for that iteration and then apply the updates?</p><p>The reason I ask is that I am working on a port of your solution onto a different AI platform with a different language, but my error rate keeps blowing up.</p><p>Thanks.</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true"></li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true"></li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share </span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/1zd9398" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4315357628"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"><li class="post" id="post-4315357697"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4315357697"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span></span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar"><div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span class="author">wallygator</span><span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357628" class="parent-link" data-role="parent-link"><i aria-label="in reply to" class="icon-forward" title="in reply to"></i> wallygator</a></span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true"></span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357697" data-role="relative-time" class="time-ago" title="Thursday, September 20, 2018 10:36 PM">2 years ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>After digging into tensor flow even deeper, it turns out the loss is actually a tensor that tensorflow uses to calculate the initial gradient that is the backpropagated on up the model.  A great article that touches on this can be found at <a href="http://disq.us/url?url=http%3A%2F%2Fkarpathy.github.io%2F2016%2F05%2F31%2Frl%2F%3AniRM9pRCAHQM6DVr0mzT09aYJIM&amp;cuid=5710794" rel="nofollow noopener" title="http://karpathy.github.io/2016/05/31/rl/">http://karpathy.github.io/2...</a>.</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true"></li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true"></li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share </span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/1zd93b5" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4315357697"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4315357697-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#">Show more replies</a></div></div></li><li class="post" id="post-4315357698"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4315357698"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span></span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar"><div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span class="author">wallygator</span><span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357628" class="parent-link" data-role="parent-link"><i aria-label="in reply to" class="icon-forward" title="in reply to"></i> wallygator</a></span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true"></span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357698" data-role="relative-time" class="time-ago" title="Wednesday, September 5, 2018 5:52 AM">2 years ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>After a closer look at the tensorflow code, it looks to me like a portion of the loss_function 'VALUE' is applied to the gradients on line 475 of the <a href="http://disq.us/url?url=http%3A%2F%2Foptimizer.py%3ABwd3rNZcG2Da3INjBDrhRs9zSOc&amp;cuid=5710794" rel="nofollow noopener" title="optimizer.py">optimizer.py</a> in the Tensorflow code on GitHub at <a href="https://disq.us/url?url=https%3A%2F%2Fgithub.com%2Ftensorflow%2Ftensorflow%2Fblob%2Fmaster%2Ftensorflow%2Fpython%2Ftraining%2Foptimizer.py%3A2ScAwF2IRPcvM_DEWUl14Yp0X54&amp;cuid=5710794" rel="nofollow noopener" title="https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/training/optimizer.py">https://github.com/tensorfl...</a></p><p>See the call to loss() on line 460 which returns the value, which is then applied to the gradients on line 475 -- all within the compute_gradients() function called by the optmizer.minimize() function on line 397.</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true"></li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true"></li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share </span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/1zd93b6" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4315357698"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4315357698-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#">Show more replies</a></div></div></li><li class="post" id="post-4315357691"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4315357691"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span></span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar"><div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span class="author">wallygator</span><span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357628" class="parent-link" data-role="parent-link"><i aria-label="in reply to" class="icon-forward" title="in reply to"></i> wallygator</a></span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true"></span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357691" data-role="relative-time" class="time-ago" title="Tuesday, September 4, 2018 6:08 AM">2 years ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>By 'compound loss function' I am assuming that you mean:<br>loss_policy = - logp * tf.stop_gradient(advantage) <br>loss_value  = C_V * tf.square(advantage)<br>entropy = C_E * tf.reduce_sum(p * tf.log(p + 1e-10), axis=1, keep_dims=True)<br>loss_total = tf.reduce_mean(loss_policy + loss_value + entropy)</p><p>So if I am implementing my own optimizer, I will need to convert the above to its derivative, calculate it and then propagate the result on up into the model, right?</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true"></li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true"></li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share </span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/1zd93az" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4315357691"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"><li class="post" id="post-4315357752"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4315357752"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span></span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar"><div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span class="author"></span><span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357691" class="parent-link" data-role="parent-link"><i aria-label="in reply to" class="icon-forward" title="in reply to"></i> wallygator</a></span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true"></span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357752" data-role="relative-time" class="time-ago" title="Tuesday, September 4, 2018 4:56 PM">2 years ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Well, I meant the compound function of the loss and the neural network itself. If you are implementing your own optimizer, check some tutorial about backpropagation with numpy or check pytorch autograd for some hints.</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true"></li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true"></li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share </span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/1zd93co" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4315357752"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4315357752-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#">Show more replies</a></div></div></li></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4315357691-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#">Show more replies</a></div></div></li><li class="post" id="post-4315357696"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4315357696"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span></span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar"><div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span class="author"></span><span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357628" class="parent-link" data-role="parent-link"><i aria-label="in reply to" class="icon-forward" title="in reply to"></i> wallygator</a></span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true"></span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357696" data-role="relative-time" class="time-ago" title="Sunday, September 2, 2018 11:54 AM">2 years ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Yes, that's basically what the optimizer does. Make sure you don't confuse the value and the derivative of the loss function. In your example, the optimizer computes the derivative of the compound loss function at 15.2 point wrt the network parameters via backpropagation, and update them accordingly.</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true"></li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true"></li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share </span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/1zd93b4" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4315357696"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4315357696-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#">Show more replies</a></div></div></li></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4315357628-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#">Show more replies</a></div></div></li><li class="post" id="post-4315357623"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4315357623"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span></span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar"><div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span class="author">sahand</span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true"></span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357623" data-role="relative-time" class="time-ago" title="Thursday, August 23, 2018 11:04 AM">2 years ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>hi thanks for this great post<br>helped a lot</p><p>when I ran the exact code on GitHub I got this error</p><p>"RuntimeError: Graph is finalized and cannot be modified"</p><p>could anyone help me</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true"></li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true"></li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share </span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/1zd9393" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4315357623"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4315357623-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#">Show more replies</a></div></div></li><li class="post" id="post-4315357616"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4315357616"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span></span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar"><div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span class="author">Arpit Garg</span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true"></span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357616" data-role="relative-time" class="time-ago" title="Tuesday, August 14, 2018 7:47 AM">2 years ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>First of all, I really appreciate your efforts for creating such an awesome and easily understandable series of blog posts. You made it possible for a guy like me to understand these algorithms and build a framework for the same! Here's the link for the same <a href="https://disq.us/url?url=https%3A%2F%2Fgithub.com%2Fkirarpit%2Fconnect4%3AFFIIYHXPFnz4Hoi84C-suJYPCSE&amp;cuid=5710794" rel="nofollow noopener" title="https://github.com/kirarpit/connect4">https://github.com/kirarpit...</a>. Thanks a lot once again!</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true"></li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true"></li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share </span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/1zd938w" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4315357616"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4315357616-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#">Show more replies</a></div></div></li><li class="post" id="post-4315357621"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4315357621"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span></span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar"><div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span class="author">Belen</span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true"></span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357621" data-role="relative-time" class="time-ago" title="Thursday, April 26, 2018 4:08 PM">2 years ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>hi Jaromir, thanks a lot for our valuable work. Why is the code different in the post from the Github? For example, in get_sample(memory, n). Which is correct? Also, how do you compute R: self.R = ( self.R + r * GAMMA_N ) / GAMMA and self.R= self.R -self.memory[0][2]? Not able to understand. Thanks!</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true"></li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true"></li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share </span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/1zd9391" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4315357621"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4315357621-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#">Show more replies</a></div></div></li><li class="post" id="post-4315357627"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4315357627"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span></span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar"><div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span class="author">Claudio</span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true"></span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357627" data-role="relative-time" class="time-ago" title="Friday, January 5, 2018 11:09 AM">3 years ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>First of all, thanks for your post!<br>Could you please explain why these lines are needed:</p><p>     self.default_graph = tf.get_default_graph()<br>     self.default_graph.finalize()    # avoid modifications<br>[...]<br>    def predict(self, s):<br>    with self.default_graph.as_default():<br>        p, v = self.model.predict(s)</p><p>I'm not sure of their effect, since by  removing self.default_graph everything seems to work fine.</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true"></li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true"></li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share </span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/1zd9397" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4315357627"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4315357627-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#">Show more replies</a></div></div></li><li class="post" id="post-4315357630"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4315357630"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span></span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar"><div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span class="author">Garlica Yang</span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true"></span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357630" data-role="relative-time" class="time-ago" title="Monday, December 25, 2017 4:47 AM">3 years ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Thanks for your excellent explanation on the A3C algorithm! I am currently working on a model that tries to maximize return on a certain stock market consist of approximately a hundred companies. My question is, when implementing an A3C model to maximize return, it seems quite strange an idea that the state value function V(s) gives the "value" of each state where a state actually means the market data for a certain trading day (we expect the neural network to analyze and give some certain trading strategies based on this observation). In other words, whatever action the agent may take, the trajectory remains the same for all agents in all training epochs. In this case does the <br>A3C training process still work?<br>Another way is to add the positions into the state input, i.e. the state value given by value network is based not only on market data, but also on how much money the agent put into each stock. <br>This question may be a bit irrelevant to the A3C algorithm, but I'm really confused when it comes to the calculation of the gradients (especially in the policy network). If you don't really get my confusions, let's put it this way:<br>In an environment where the action doesn't affect the next state at all (i.e. the state sequence is fixed), can we still maximize the reward with policy gradient algorithms? If not, are there any alternative solutions?<br>Thanks again for your article!</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true"></li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true"></li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share </span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/1zd939a" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4315357630"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4315357630-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#">Show more replies</a></div></div></li><li class="post" id="post-4315357635"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4315357635"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span></span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar"><div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span class="author">Mehdi</span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true"></span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357635" data-role="relative-time" class="time-ago" title="Wednesday, November 15, 2017 6:15 PM">3 years ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Hi,</p><p>First, thanks much for sharing this post.</p><p>Second, I have a question, I am having hard time understanding how "R" IS CALCULATED:</p><p>self.R = ( self.R + r * GAMMA_N ) / GAMMA</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true"></li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true"></li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share </span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/1zd939f" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4315357635"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"><li class="post" id="post-4315357700"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4315357700"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span></span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar"><div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span class="author">Mehdi</span><span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357635" class="parent-link" data-role="parent-link"><i aria-label="in reply to" class="icon-forward" title="in reply to"></i> Mehdi</a></span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true"></span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357700" data-role="relative-time" class="time-ago" title="Wednesday, November 15, 2017 8:10 PM">3 years ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>also, as far as I know, and as you explained above in "n step return", we use "n" immediate reward and then after that "n" steps we use "v(s)" . I don't see the "v(s)" in your implementation. I really appreciate if you can explain</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true"></li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true"></li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share </span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/1zd93b8" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4315357700"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4315357700-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#">Show more replies</a></div></div></li></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4315357635-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#">Show more replies</a></div></div></li><li class="post" id="post-4315357634"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4315357634"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span></span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar"><div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span class="author">Yuhang Cao</span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true"></span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357634" data-role="relative-time" class="time-ago" title="Sunday, October 29, 2017 7:34 AM">3 years ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Sorry, I can't understand why we need to use stop_gradient(advantage) when calculating the gradient of loss_(policy), can you explain to me a little, really thanks for you!</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true"></li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true"></li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share </span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/1zd939e" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4315357634"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"><li class="post" id="post-4315357703"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4315357703"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span></span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar"><div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span class="author"></span><span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357634" class="parent-link" data-role="parent-link"><i aria-label="in reply to" class="icon-forward" title="in reply to"></i> Yuhang Cao</a></span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true"></span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357703" data-role="relative-time" class="time-ago" title="Sunday, October 29, 2017 11:02 AM">3 years ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Hi, the formula for our function J, that we are trying to maximize is:<br>d J(pi) = E[ A(s, a) * d log pi(a|s) ]</p><p>So we can use tensorflow to compute the correct value by specifying <br>J(pi) = E[ a * log pi(a|s) ], where a = A(s,a) is a !constant! and letting tensorflow differentiate this value. So we need to use stop_gradient( A(s, a) ).</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true"></li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true"></li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share </span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/1zd93bb" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4315357703"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4315357703-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#">Show more replies</a></div></div></li></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4315357634-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#">Show more replies</a></div></div></li><li class="post" id="post-4315357601"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4315357601"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span></span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar"><div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span class="author">ChaseAucoin (@ChaseAucoin)</span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true"></span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357601" data-role="relative-time" class="time-ago" title="Saturday, July 29, 2017 8:36 PM">3 years ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>I've tried with the hyper parameters as-is, and tweaking them; but, the system doesn't ever seem to do better than a total reward of about 45.</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true"></li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true"></li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share </span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/1zd938h" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4315357601"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"><li class="post" id="post-4315357672"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4315357672"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span></span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar"><div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span class="author">Kenzo</span><span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357601" class="parent-link" data-role="parent-link"><i aria-label="in reply to" class="icon-forward" title="in reply to"></i> ChaseAucoin (@ChaseAucoin)</a></span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true"></span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357672" data-role="relative-time" class="time-ago" title="Tuesday, August 1, 2017 11:11 AM">3 years ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Same here. Does it have to do with the fact that I'm using CPU?</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true"></li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true"></li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share </span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/1zd93ag" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4315357672"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4315357672-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#">Show more replies</a></div></div></li></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4315357601-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#">Show more replies</a></div></div></li><li class="post" id="post-4315357593"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4315357593"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span></span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar"><div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span class="author">Santiago</span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true"></span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357593" data-role="relative-time" class="time-ago" title="Saturday, July 15, 2017 11:48 PM">3 years ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Hello again Jaromr! I have another question if you don't mind. Checking other implementations of A3C (e.g. OpenAI Universe Starter Agent: <a href="https://disq.us/url?url=https%3A%2F%2Fgithub.com%2Fopenai%2Funiverse-starter-agent%3AYW3XUVAob0dUytJTtdfLoQn70MY&amp;cuid=5710794" rel="nofollow noopener" title="https://github.com/openai/universe-starter-agent">https://github.com/openai/u...</a> or ), I've noted that the only one that uses tf.stop_gradient() for the advantages in the policy loss it's yours. I agree with your explanation on why it's neccesary to use it, do you know why they don't use it? I made my own implementation for the continuous action space and tested it with and without tf.stop_gradient() and in both cases the policy converges</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true"></li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true"></li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share </span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/1zd9389" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4315357593"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"><li class="post" id="post-4315357686"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4315357686"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span></span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar"><div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span class="author"></span><span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357593" class="parent-link" data-role="parent-link"><i aria-label="in reply to" class="icon-forward" title="in reply to"></i> Santiago</a></span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true"></span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357686" data-role="relative-time" class="time-ago" title="Tuesday, July 18, 2017 5:47 PM">3 years ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Hi, without the tf.stop_gradient(), you would propagate the gradient into the value function, which is incorrect. It might be that the leak is small and don't influence the value function much, hence it works for you.</p><p>I just checked OpenAI Universe Starter Agent (see <a href="https://disq.us/url?url=https%3A%2F%2Fgithub.com%2Fopenai%2Funiverse-starter-agent%2Fblob%2Fmaster%2Fa3c.py%23L194%29%3A%3ATWt8P9OjxzcP_NKZlTGMlRD1u3w&amp;cuid=5710794" rel="nofollow noopener" title="https://github.com/openai/universe-starter-agent/blob/master/a3c.py#L194):">https://github.com/openai/u...</a></p><p>            <a href="http://disq.us/url?url=http%3A%2F%2Fself.ac%3Ai9QcLFvjcd52hf_pFUaS4a-xlbk&amp;cuid=5710794" rel="nofollow noopener" title="self.ac">self.ac</a> = tf.placeholder(tf.float32, [None, env.action_space.n], name="ac")<br>            self.adv = tf.placeholder(tf.float32, [None], name="adv")</p><p>            # . . .</p><p>            # the "policy gradients" loss:  its derivative is precisely the policy gradient<br>            # notice that <a href="http://disq.us/url?url=http%3A%2F%2Fself.ac%3Ai9QcLFvjcd52hf_pFUaS4a-xlbk&amp;cuid=5710794" rel="nofollow noopener" title="self.ac">self.ac</a> is a placeholder that is provided externally.<br>            # adv will contain the advantages, as calculated in process_rollout<br>            pi_loss = - tf.reduce_sum(tf.reduce_sum(log_prob_tf * <a href="http://disq.us/url?url=http%3A%2F%2Fself.ac%3Ai9QcLFvjcd52hf_pFUaS4a-xlbk&amp;cuid=5710794" rel="nofollow noopener" title="self.ac">self.ac</a>, [1]) * self.adv)</p><p>The self.adv is a placeholder, therefore a constant. The gradient can't leak into a constant, therefore you don't have to explicitly block it through tf.stop_gradient().</p><p>On the other hand, this implementation uses:<br>p, v = model(s_t)<br># . . . <br>advantage = r_t - v<br>loss_policy = - logp * tf.stop_gradient(advantage)</p><p>The v is a function of the network parameters and therefore the gradient would propagate.</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true"></li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true"></li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share </span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/1zd93au" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4315357686"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4315357686-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#">Show more replies</a></div></div></li></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4315357593-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#">Show more replies</a></div></div></li><li class="post" id="post-4315357622"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4315357622"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span></span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar"><div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span class="author">Alexander Yau</span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true"></span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357622" data-role="relative-time" class="time-ago" title="Thursday, July 13, 2017 4:48 PM">3 years ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Hi, may I ask you a question?Are we going to maximize policy entropy or minimize it? Since if we maximize it, more exploration will be simulated.</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true"></li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true"></li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share </span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/1zd9392" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4315357622"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"><li class="post" id="post-4315357689"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4315357689"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span></span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar"><div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span class="author"></span><span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357622" class="parent-link" data-role="parent-link"><i aria-label="in reply to" class="icon-forward" title="in reply to"></i> Alexander Yau</a></span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true"></span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357689" data-role="relative-time" class="time-ago" title="Thursday, July 13, 2017 5:56 PM">3 years ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Yes, the entropy is maximized, exactly for that reason.</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true"></li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true"></li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share </span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/1zd93ax" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4315357689"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4315357689-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#">Show more replies</a></div></div></li></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4315357622-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#">Show more replies</a></div></div></li><li class="post" id="post-4315357603"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4315357603"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span></span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar"><div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span class="author">jgustave</span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true"></span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357603" data-role="relative-time" class="time-ago" title="Wednesday, July 5, 2017 8:46 PM">3 years ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>I noticed that the system seems to be unstable. I can get a score of 500 for several epochs, and then suddenly after optimizing it will massively regress. Is this jus a case of overfitting, and we need to add the typical train and validation?</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true"></li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true"></li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share </span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/1zd938j" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4315357603"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"><li class="post" id="post-4315357620"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4315357620"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span></span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar"><div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span class="author"></span><span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357603" class="parent-link" data-role="parent-link"><i aria-label="in reply to" class="icon-forward" title="in reply to"></i> jgustave</a></span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true"></span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357620" data-role="relative-time" class="time-ago" title="Tuesday, July 11, 2017 4:26 PM">3 years ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Hello, any large update can destroy the progress so far. I refer you to: Schulman et al., Trust Region Policy Optimization, 2015, <a href="https://disq.us/url?url=https%3A%2F%2Farxiv.org%2Fabs%2F1502.05477%3A5l1RlaPEVSEuG_p3fCeEtiE47tQ&amp;cuid=5710794" rel="nofollow noopener" title="https://arxiv.org/abs/1502.05477">https://arxiv.org/abs/1502....</a>, where they deal with the issue.</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true"></li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true"></li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share </span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/1zd9390" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4315357620"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4315357620-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#">Show more replies</a></div></div></li></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4315357603-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#">Show more replies</a></div></div></li><li class="post" id="post-4315357614"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4315357614"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span></span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar"><div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span class="author">Toke Petersen</span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true"></span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357614" data-role="relative-time" class="time-ago" title="Tuesday, July 4, 2017 5:38 PM">3 years ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Hi. Great post! Love it!!!</p><p>I noticed that you compute the discounted reward quite differently than from the paper. The paper uses bootstrapping $V(s_t, \theta)$ as a seed for non-terminal states, and then work backwards from there, where as your implementation computes the discounted rewards in a forward manner, without bootstrapping.</p><p>Can you help me understand the differences, and why you chose your way?</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true"></li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true"></li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share </span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/1zd938u" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4315357614"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"><li class="post" id="post-4315357693"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4315357693"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span></span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar"><div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span class="author"></span><span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357614" class="parent-link" data-role="parent-link"><i aria-label="in reply to" class="icon-forward" title="in reply to"></i> Toke Petersen</a></span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true"></span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357693" data-role="relative-time" class="time-ago" title="Tuesday, July 11, 2017 4:22 PM">3 years ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Hi Toke, could you rephrase your question? I don't understand what you're asking.</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true"></li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true"></li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share </span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/1zd93b1" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4315357693"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4315357693-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#">Show more replies</a></div></div></li></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4315357614-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#">Show more replies</a></div></div></li><li class="post" id="post-4315357609"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4315357609"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span></span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar"><div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span class="author">jgustave</span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true"></span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357609" data-role="relative-time" class="time-ago" title="Saturday, July 1, 2017 10:28 PM">3 years ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>First, your article is excellent, Thank you!<br>Second, (sorry for the support question but) I'm curious if there is anything special I need to do to Load/Save the model due to being half Keras and half TF? I've tried the standard <br><a href="http://disq.us/url?url=http%3A%2F%2Fbrain.model.save%3Aaw5YeRTBB5tGX63G4L-PxJYB4dQ&amp;cuid=5710794" rel="nofollow noopener" title="brain.model.save">brain.model.save</a>(...) and keras.models.load_model(...) But it has clearly lost its learning even though the api calls work fine.</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true"></li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true"></li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share </span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/1zd938p" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4315357609"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"><li class="post" id="post-4315357677"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4315357677"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span></span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar"><div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span class="author">jgustave</span><span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357609" class="parent-link" data-role="parent-link"><i aria-label="in reply to" class="icon-forward" title="in reply to"></i> jgustave</a></span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true"></span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357677" data-role="relative-time" class="time-ago" title="Wednesday, July 5, 2017 7:11 PM">3 years ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Answered my own question.. you have to add an extra load_weights() after the <a href="http://disq.us/url?url=http%3A%2F%2Fsession.run%3Azf1ftdWEqZcKnepmgRVAxlVuZq0&amp;cuid=5710794" rel="nofollow noopener" title="session.run">session.run</a><br>        self.model = load_model(FILENAME)<br>        self.model._make_predict_function()</p><p>        <a href="http://disq.us/url?url=http%3A%2F%2Fself.session.run%3AEUSmMnOdijvxbesU2bQRHtA4WhM&amp;cuid=5710794" rel="nofollow noopener" title="self.session.run">self.session.run</a>(tf.global_variables_initializer())<br>        self.model.load_weights(FILENAME)</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true"></li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true"></li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share </span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/1zd93al" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4315357677"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4315357677-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#">Show more replies</a></div></div></li></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4315357609-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#">Show more replies</a></div></div></li><li class="post" id="post-4315357610"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4315357610"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span></span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar"><div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span class="author">Oliver</span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true"></span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357610" data-role="relative-time" class="time-ago" title="Tuesday, June 27, 2017 10:53 AM">3 years ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Very nice and easy to understand tutorial!</p><p>I have a question on the implementation. Compared to the  A3C paper and probably also to the GA3C paper (I did not read that carefully enough yet) you have an additional random exploration controlled by the parameter epsilon. Have you made the experience that the entropy term in the loss function itself is not sufficient for exploration and the addition of a random action is needed?</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true"></li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true"></li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share </span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/1zd938q" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4315357610"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"><li class="post" id="post-4315357690"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4315357690"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span></span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar"><div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span class="author"></span><span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357610" class="parent-link" data-role="parent-link"><i aria-label="in reply to" class="icon-forward" title="in reply to"></i> Oliver</a></span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true"></span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357690" data-role="relative-time" class="time-ago" title="Tuesday, July 11, 2017 4:15 PM">3 years ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Hi, that is indeed an interesting question. And the current answer is simple - I did not. But I'm interested, if you find any additional conclusions.</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true"></li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true"></li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share </span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/1zd93ay" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4315357690"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4315357690-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#">Show more replies</a></div></div></li></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4315357610-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#">Show more replies</a></div></div></li><li class="post" id="post-4315357619"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4315357619"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span></span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar"><div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span class="author">Santiago</span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true"></span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357619" data-role="relative-time" class="time-ago" title="Sunday, June 25, 2017 9:41 PM">3 years ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Awesome tutorial Jaromr! Thank you very much, it is by far the clearest tutorial explaining A3C theory. I have however one question; this is the implementation of the feedforward model of the algorithm, with your trick of the global queue it wouldn't be possible to implement the model with the recurrent layer, right? Since the queue is receiving samples asynchronously from all the agents, the temporal dependencies would be lost. I hope you can help me with this doubt, thanks again!</p><p>P.S sorry if there's any mistake with my english, I'm not a native speaker</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true"></li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true"></li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share </span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/1zd938z" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4315357619"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"><li class="post" id="post-4315357692"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4315357692"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span></span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar"><div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span class="author"></span><span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357619" class="parent-link" data-role="parent-link"><i aria-label="in reply to" class="icon-forward" title="in reply to"></i> Santiago</a></span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true"></span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357692" data-role="relative-time" class="time-ago" title="Tuesday, July 11, 2017 4:04 PM">3 years ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Yes, RNN would need a different model of storing samples which preserves the temporal dependencies.</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true"></li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true"></li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share </span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/1zd93b0" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4315357692"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4315357692-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#">Show more replies</a></div></div></li></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4315357619-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#">Show more replies</a></div></div></li><li class="post" id="post-4315357596"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4315357596"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span></span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar"><div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span class="author">Yan XU</span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true"></span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357596" data-role="relative-time" class="time-ago" title="Thursday, June 8, 2017 10:26 PM">3 years ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Have you tried this code with Atari games?  It seems it never converge.</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true"></li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true"></li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share </span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/1zd938c" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4315357596"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"><li class="post" id="post-4315357682"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4315357682"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span></span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar"><div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span class="author"></span><span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357596" class="parent-link" data-role="parent-link"><i aria-label="in reply to" class="icon-forward" title="in reply to"></i> Yan XU</a></span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true"></span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357682" data-role="relative-time" class="time-ago" title="Friday, June 9, 2017 10:32 AM">3 years ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Hi, Atari games is much more complex environment and requires additional tuning of hyper-parameters and additional pre-processing. There was a similar question about MountainCar environment, for which the hyperparameters were tuned by a user on reddit (<a href="https://disq.us/url?url=https%3A%2F%2Fwww.reddit.com%2Fr%2FMachineLearning%2Fcomments%2F67fqv8%2Fda3c_performs_badly_in_mountain_car%2F%29%3ABU8cWRfWKI0g3YtzdgCde8GRTsQ&amp;cuid=5710794" rel="nofollow noopener" title="https://www.reddit.com/r/MachineLearning/comments/67fqv8/da3c_performs_badly_in_mountain_car/)">https://www.reddit.com/r/Ma...</a>. You can start there.</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true"></li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true"></li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share </span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/1zd93aq" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4315357682"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4315357682-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#">Show more replies</a></div></div></li></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4315357596-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#">Show more replies</a></div></div></li><li class="post" id="post-4315357600"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4315357600"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span></span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar"><div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span class="author">Andy</span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true"></span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357600" data-role="relative-time" class="time-ago" title="Saturday, June 3, 2017 2:40 PM">3 years ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>any more  article on a3c or other Deep Reinforcement learning?</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true"></li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true"></li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share </span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/1zd938g" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4315357600"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4315357600-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#">Show more replies</a></div></div></li><li class="post" id="post-4315357592"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4315357592"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span></span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar"><div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span class="author">Anonymous</span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true"></span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357592" data-role="relative-time" class="time-ago" title="Tuesday, May 16, 2017 8:16 PM">3 years ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Hi, I wonder what is the reason Tensorflow can't automatically compute A(s,a) if you don't treat it as a constant. I mean there is no cycle in a graph and gradient w.r.t v(s) is known.<br>Although I suspect in general it should be regarded as constant, as although in practice we share some part of the parameters for actor and critic, we treat them as separate things in formulas. That's what I think so far..</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true"></li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true"></li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share </span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/1zd9388" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4315357592"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"><li class="post" id="post-4315357687"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4315357687"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span></span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar"><div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span class="author"></span><span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357592" class="parent-link" data-role="parent-link"><i aria-label="in reply to" class="icon-forward" title="in reply to"></i> Anonymous</a></span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true"></span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357687" data-role="relative-time" class="time-ago" title="Wednesday, May 17, 2017 6:11 PM">3 years ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>You have to treat the A(s, a) in the formula for gradient of J as constant, because that's what the formula says. Look again at the Policy Gradient formula and pay attention what it says and what is gradient of what. Reread the passage.</p><p>Tensorflow has no problem if you don't stop the gradient flow and will happily compute it. It would be uncorrect, though.</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true"></li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true"></li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share </span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/1zd93av" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4315357687"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4315357687-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#">Show more replies</a></div></div></li></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4315357592-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#">Show more replies</a></div></div></li><li class="post" id="post-4315357591"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4315357591"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span></span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar"><div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span class="author">DarkZero</span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true"></span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357591" data-role="relative-time" class="time-ago" title="Wednesday, April 26, 2017 5:21 AM">3 years ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>I found something new about MountainCar environment. I have gym rendered the training process of A3C (training using only 1 thread), and found that it actually reaches the goal quite quickly. Before reaching the goal for the first time, it behaves reasonably, but after reaching the goal for several times, for unknown reasons it suddenly converge to a very bad policy that always wants to go left/right...</p><p>Would you please try if things are the same in your side? If so, what is the reason of it? I have opened a thread in <a href="https://disq.us/url?url=https%3A%2F%2Fwww.reddit.com%2Fr%2FMachineLearning%2Fcomments%2F67fqv8%2Fda3c_performs_badly_in_mountain_car%2F%3AmvkQrl-SeMWgcfBJGELfeMyKPyU&amp;cuid=5710794" rel="nofollow noopener" title="https://www.reddit.com/r/MachineLearning/comments/67fqv8/da3c_performs_badly_in_mountain_car/">https://www.reddit.com/r/Ma...</a>.</p><p>Thank you!</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true"></li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true"></li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share </span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/1zd9387" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4315357591"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4315357591-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#">Show more replies</a></div></div></li><li class="post" id="post-4315357583"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4315357583"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span></span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar"><div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span class="author">DarkZero</span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true"></span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357583" data-role="relative-time" class="time-ago" title="Friday, April 14, 2017 4:30 AM">3 years ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Thank you for your post on A3C code!</p><p>I tried out your code on CartPole and MountainCar, in CartPole it works really well, taking less than 3 minutes to reach a cumulative reward of 475 and solved v1 environment.</p><p>However, when comes to MountainCar it performs badly. The policy network seems to converge so that the car always wants to go left/right in all situations, while DQN worked fairly well after training for about 10 minutes. I have not found a reason why this code do not work in CartPole yet. Have you tried out the MountainCar problem? I would appreciate if you can give some hints on solving that environment.</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true"></li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true"></li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share </span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/1zd937z" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4315357583"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"><li class="post" id="post-4315357673"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4315357673"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span></span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar"><div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span class="author">DarkZero</span><span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357583" class="parent-link" data-role="parent-link"><i aria-label="in reply to" class="icon-forward" title="in reply to"></i> DarkZero</a></span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true"></span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357673" data-role="relative-time" class="time-ago" title="Tuesday, April 18, 2017 10:55 AM">3 years ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>I can't reply Jaromiru's reply so I'll have to write it here...</p><p>Jaromiru said that DQN indeed performs better here, but in DQN it also starts from pure random actions, so it is also hard for it to observe a success episode. How can it make progress? I rendered the training process, and can see concrete improvement of the car.</p><p>The problem with A3C seems to be that it always wants to go right/left in the end. I don't know how it comes to this conclusion. I tried decreasing eps from 1.0 to 0.01 slowly but that does not work. Actually, at the very beginning A3C behaves randomly as well, so I don't think this have so much to do with the setting of epsilon...</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true"></li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true"></li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share </span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/1zd93ah" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4315357673"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4315357673-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#">Show more replies</a></div></div></li><li class="post" id="post-4315357669"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4315357669"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span></span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar"><div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span class="author"></span><span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357583" class="parent-link" data-role="parent-link"><i aria-label="in reply to" class="icon-forward" title="in reply to"></i> DarkZero</a></span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true"></span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357669" data-role="relative-time" class="time-ago" title="Friday, April 14, 2017 9:31 PM">3 years ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Yes, I noticed it struggles in MountainCar environment. The problem with A3C is that it can only improve a current policy with little steps. In mountain car environment, only non-negative reward is awarded when reaching the goal. Since a random policy rarely reaches this goal, the algorithm does not know what to improve. I'd guess that going from epsilon 1.0 slowly down might help. Once it finds a policy that at least performs somehow, the algorithm can improve it.</p><p>Compare that to DQN - when the goal is reached:<br>a) the memory is saved and gets replayed many times <br>b) the change in Q function gets propagated through states backwards (see the update formula)</p><p>That's why DQN performs better here.</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true"></li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true"></li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share </span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/1zd93ad" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4315357669"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4315357669-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#">Show more replies</a></div></div></li></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4315357583-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#">Show more replies</a></div></div></li><li class="post" id="post-4315357589"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4315357589"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span></span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar"><div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span class="author">zhiang zhang</span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true"></span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357589" data-role="relative-time" class="time-ago" title="Thursday, April 13, 2017 9:34 PM">3 years ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Thank you very much for your post, it is very helpful for me.</p><p>I have one question for you. If my understanding is right, in your implementation, your local workers interacts with their own environments, but push the (s, a, r, s') to a global shared queue. The global optimizer computes the gradients based on the samples in the global shared queue, and updates the global network. Is is like synchronous update? In the Deepmind's paper of "Asynchronous methods for deep reinforcement learning", it writes "Perform asynchronous update of \theta (global shared) using \delta \theta". Actually I don't quite understand what it means.</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true"></li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true"></li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share </span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/1zd9385" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4315357589"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"><li class="post" id="post-4315357608"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4315357608"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span></span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar"><div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span class="author">DarkZero</span><span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357589" class="parent-link" data-role="parent-link"><i aria-label="in reply to" class="icon-forward" title="in reply to"></i> zhiang zhang</a></span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true"></span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357608" data-role="relative-time" class="time-ago" title="Wednesday, May 24, 2017 6:14 AM">3 years ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>In fact, this design is more like GA3C (<a href="https://disq.us/url?url=https%3A%2F%2Fopenreview.net%2Fforum%3Fid%3Dr1VGvBcxl%29%3ATuJU_MaJPI2Jl-6mYeYGflQhBxM&amp;cuid=5710794" rel="nofollow noopener" title="https://openreview.net/forum?id=r1VGvBcxl)">https://openreview.net/foru...</a> which is more GPU friendly and easier to implement. The potential problem of this is "policy lag" which is also discussed in this paper.</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true"></li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true"></li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share </span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/1zd938o" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4315357608"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4315357608-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#">Show more replies</a></div></div></li><li class="post" id="post-4315357666"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4315357666"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span></span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar"><div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span class="author"></span><span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357589" class="parent-link" data-role="parent-link"><i aria-label="in reply to" class="icon-forward" title="in reply to"></i> zhiang zhang</a></span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true"></span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357666" data-role="relative-time" class="time-ago" title="Friday, April 14, 2017 9:25 PM">3 years ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>You can either update the shared network in each agent thread, but collecting all the experiences in one queue has a substantial advantage - you can process them in batch, much more efficiently. Since it's in a separate thread, I'd still say it's asynchronous - in relation to agents.</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true"></li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true"></li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share </span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/1zd93aa" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4315357666"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4315357666-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#">Show more replies</a></div></div></li><li class="post" id="post-4315357667"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4315357667"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span></span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar"><div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span class="author">DarkZero</span><span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357589" class="parent-link" data-role="parent-link"><i aria-label="in reply to" class="icon-forward" title="in reply to"></i> zhiang zhang</a></span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true"></span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357667" data-role="relative-time" class="time-ago" title="Friday, April 14, 2017 4:41 AM">3 years ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>The code is not written identically to the paper. The key idea of A3C is to explore and train the model concurrently in order to emphasize exploration and break associations between experiences. Jaromiru's code puts experiences from different threads into the same global queue, also achieving the two goals. This is a more convenient implementation of A3C on a single machine, I guess.</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true"></li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true"></li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share </span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/1zd93ab" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4315357667"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4315357667-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#">Show more replies</a></div></div></li></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4315357589-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#">Show more replies</a></div></div></li><li class="post" id="post-4315357584"><div role="alert"></div><div data-role="post-content" class="post-content" tabindex="0"><div class="indicator"></div><ul class="post-menu dropdown" data-role="menu" data-view-id="post-menu" data-post-id="4315357584"><li class="post-menu-item collapse"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Collapse" name="Collapse"><span></span></a></li><li class="post-menu-item expand"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="collapse" title="Expand" name="Collapse"><span>+</span></a></li><li class=" post-menu-item" role="menuitem"><a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate"><i aria-hidden="true" class="icon icon-flag"></i></a></li></ul><div class="avatar"><div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div></div><div class="post-body"><header class="comment__header"><span class="post-byline"><span class="author">fabrizio</span></span> <span class="post-meta"><span class="bullet time-ago-bullet" aria-hidden="true"></span> <a href="https://jaromiru.com/2017/03/26/lets-make-an-a3c-implementation/#comment-4315357584" data-role="relative-time" class="time-ago" title="Monday, March 27, 2017 6:24 AM">3 years ago</a> </span>  </header><div class="post-body-inner"><div class="post-message-container" data-role="message-container"><div class="publisher-anchor-color" data-role="message-content"><div class="post-message " data-role="message" dir="auto"><div><p>Amazing! Thank you so much for sharing such an incredibly detailed and invaluable tutorial. I wish more people in the academic world were so willing to help the rest of us, by sharing knowledge the way you are doing. After all, what is the purpose of having an open AI gym if we do not have intructors to guide us through the exercises? How are we supposed to learn? Congratulations, thank you, and keep up the great work.</p></div></div><span class="post-media"><ul data-role="post-media-list"></ul></span></div></div><a class="see-more hidden" title="see more" data-action="see-more">see more</a></div><footer class="comment__footer"><menu class="comment-footer__menu"><li class="voting" data-role="voting"><div class="post-votes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up" name="Vote up"><span class="updatable count" data-role="likes">0</span> <span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span></a><div class="post-votes__separator"></div><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="vote-down  count-0" data-action="downvote" title="Vote down" name="Vote down"><span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span> <span class="updatable count" data-role="dislikes">0</span></a></div></li><li class="bullet" aria-hidden="true"></li><li class="reply" data-role="reply-link"><a class="comment-footer__action" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="reply"><span class="text">Reply</span></a></li><li class="bullet" aria-hidden="true"></li><li class="comment__share"><a class="toggle" tabindex="0"><span class="text">Share </span></a><ul class="comment-share__buttons"><div class="comment-share__social-share-buttons"><li class="twitter"><button class="share__button icon icon-twitter" data-action="share:twitter"></button></li><li class="facebook"><button class="share__button icon icon-facebook" data-action="share:facebook"></button></li></div><li class="link"><button class="share__button icon icon-link" value="http://disq.us/p/1zd9380" name="Link" title="Click to copy post link" data-action="copy-link"></button><input class="share__button link_url" name="Link" title="Click to copy post link" data-action="copy-link" readonly=""></li></ul></li><li class="realtime" data-role="realtime-notification:4315357584"><span class="realtime-replies" style="display: none;"></span><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" class="realtime-button" style="display: none;"></a></li></menu></footer></div><div data-role="blacklist-form"></div><div data-role="flagging-form"></div><div class="reply-form-container" data-role="reply-form"></div></div><div class="children"><ul data-role="children"></ul><div class="show-children-wrapper hidden"><a class="show-children" id="post-4315357584-show-children" data-action="show-children" href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#">Show more replies</a></div></div></li></ul><div class="load-more" data-role="more" style=""><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" data-action="more-posts" class="btn load-more__button">Load more comments</a></div></div></section><div id="placement-bottom" data-tracking-area="discovery-south"></div><div id="footer" data-tracking-area="footer" class="disqus-footer__wrapper"><ul class="disqus-footer"><li class="disqus-footer__logo"><a href="https://disqus.com/" rel="nofollow" title="Powered by Disqus" class="disqus-footer__link">Powered by Disqus</a></li><li id="thread-subscribe-button" class="email disqus-footer__item"><div class="default"><a href="https://disqus.com/embed/comments/?base=default&amp;f=jaromiru-com&amp;t_i=%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation&amp;t_u=https%3A%2F%2Fjaromiru.com%2F2017%2F03%2F26%2Flets-make-an-a3c-implementation%2F&amp;t_e=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_d=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;t_t=Let%E2%80%99s%20make%20an%20A3C%3A%20Implementation&amp;s_o=default#" rel="nofollow" data-action="subscribe" title="Subscribe and get email updates from this discussion" class="disqus-footer__link"><i aria-hidden="true" class="icon icon-mail"></i><span class="clip">Subscribe</span><i aria-hidden="true" class="icon icon-checkmark"></i></a></div></li><li class="install disqus-footer__item"><a href="https://publishers.disqus.com/engage?utm_source=jaromiru-com&amp;utm_medium=Disqus-Footer" rel="nofollow noopener noreferrer" target="_blank" class="disqus-footer__link"><i aria-hidden="true" class="icon icon-disqus"></i><span class="clip hidden-md">Add Disqus to your site</span><span class="clip visible-md hidden-xs">Add Disqus</span><span class="clip visible-xs">Add</span></a></li><li class="do-not-sell disqus-footer__item"><a href="https://disqus.com/data-sharing-settings/" rel="nofollow noopener noreferrer" target="_blank" class="disqus-footer__link"><i aria-hidden="true" class="icon icon-warning"></i><span class="clip">Do Not Sell My Data</span></a></li></ul></div></div></div></div></div></body></html>